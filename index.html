<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slot 5x3</title>

<style>
body{
    background:#222;
    color:#fff;
    font-family:Arial;
    text-align:center;
    margin:0;
    padding:10px;
}
.container{
    max-width:520px;
    margin:auto;
    background:#333;
    padding:15px;
    border-radius:15px;
}
.slots{
    display:grid;
    grid-template-columns:repeat(5,1fr);
    grid-template-rows:repeat(3,80px);
    gap:8px;
    margin:15px 0;
}
.slot{
    background:#444;
    border-radius:10px;
    font-size:26px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:.15s;
}
.spin{ transform:scale(1.1); }
.win{
    box-shadow:0 0 10px gold;
    border:2px solid gold;
}
.mult{ color:#ffd700; font-weight:bold; }
.controls{ display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }
button,input,select{
    padding:10px;
    font-size:16px;
    border-radius:8px;
    border:none;
}
button{
    background:#ff6347;
    color:#fff;
    cursor:pointer;
}
button:hover{ background:#ff4500; }
.won{ color:lime; }
.lost{ color:red; }

@media(max-width:480px){
    .slot{ font-size:22px; }
}
</style>
</head>

<body>

<h2>üé∞ Slot 5x3</h2>

<div class="container">
    <div>–ë–∞–ª–∞–Ω—Å: <b><span id="balance">15000</span></b></div>

    <div class="slots" id="slots"></div>

    <div class="controls">
        <input type="number" id="bet" value="10" min="1">
        <select id="lines">
            <option value="1">1 –ª–∏–Ω–∏—è</option>
            <option value="3">3 –ª–∏–Ω–∏–∏</option>
            <option value="5">5 –ª–∏–Ω–∏–π</option>
        </select>
    </div>

    <div class="controls">
        <button onclick="spin()">SPIN</button>
        <button onclick="toggleAuto()" id="autoBtn">AUTOSPIN</button>
    </div>

    <div id="result"></div>
</div>

<script>
let balance = 15000;
let auto = false, autoInt;

const symbols = [
    {t:'üçí',v:1},{t:'üçã',v:1},{t:'üçä',v:1},{t:'üçâ',v:1},{t:'üçÄ',v:1},
    {t:'x2',v:2},{t:'x5',v:5},{t:'x10',v:10},{t:'x100',v:100}
];

const paylines = [
    [[1,0],[1,1],[1,2],[1,3],[1,4]], // —Ü–µ–Ω—Ç—Ä
    [[0,0],[0,1],[0,2],[0,3],[0,4]], // –≤–µ—Ä—Ö
    [[2,0],[2,1],[2,2],[2,3],[2,4]], // –Ω–∏–∑
    [[0,0],[1,1],[2,2],[1,3],[0,4]], // –¥–∏–∞–≥–æ–Ω–∞–ª—å
    [[2,0],[1,1],[0,2],[1,3],[2,4]]  // –¥–∏–∞–≥–æ–Ω–∞–ª—å
];

const slotsEl = document.getElementById('slots');
const balanceEl = document.getElementById('balance');
const resultEl = document.getElementById('result');

let grid=[], matrix=[];

// —Å–æ–∑–¥–∞—ë–º –ø–æ–ª–µ
for(let r=0;r<3;r++){
    grid[r]=[];
    for(let c=0;c<5;c++){
        const d=document.createElement('div');
        d.className='slot';
        d.textContent='‚ùî';
        slotsEl.appendChild(d);
        grid[r][c]=d;
    }
}

function rand(){
    return symbols[Math.floor(Math.random()*symbols.length)];
}

function clearWin(){
    grid.flat().forEach(s=>s.classList.remove('win','spin'));
}

function spin(){
    const bet=+betInput.value;
    const lines=+linesInput.value;
    const total=bet*lines;
    if(total>balance) return;

    balance-=total;
    balanceEl.textContent=balance;
    resultEl.textContent='';
    clearWin();

    let step=0;
    const anim=setInterval(()=>{
        for(let r=0;r<3;r++){
            matrix[r]=[];
            for(let c=0;c<5;c++){
                const s=rand();
                matrix[r][c]=s;
                grid[r][c].innerHTML=s.v>1?`<span class="mult">${s.t}</span>`:s.t;
                grid[r][c].classList.add('spin');
            }
        }
        if(++step>6){
            clearInterval(anim);
            clearWin();
            calcWin(bet,lines);
        }
    },100);
}

function calcWin(bet,lines){
    let win=0;

    for(let i=0;i<lines;i++){
        const line=paylines[i];
        let base=null,count=0,mult=1;

        for(let p of line){
            const s=matrix[p[0]][p[1]];

            if(s.v>1){
                mult*=s.v;
                grid[p[0]][p[1]].classList.add('win');
                continue;
            }

            if(!base){
                base=s.t;
                count=1;
                grid[p[0]][p[1]].classList.add('win');
            }else if(s.t===base){
                count++;
                grid[p[0]][p[1]].classList.add('win');
            }else break;
        }

        if(count>=3){
            win+=bet*count*mult;
        }
    }

    balance+=win;
    balanceEl.textContent=balance;
    resultEl.innerHTML=win
        ? `<span class="won">üéâ –í—ã–∏–≥—Ä—ã—à: ${win}</span>`
        : `<span class="lost">üòû –ü—Ä–æ–∏–≥—Ä—ã—à</span>`;
}

function toggleAuto(){
    auto=!auto;
    autoBtn.textContent=auto?'STOP':'AUTOSPIN';
    auto
        ? autoInt=setInterval(()=>balance>0&&spin(),1200)
        : clearInterval(autoInt);
}

const betInput=document.getElementById('bet');
const linesInput=document.getElementById('lines');
const autoBtn=document.getElementById('autoBtn');
</script>

</body>
</html>




















































































































