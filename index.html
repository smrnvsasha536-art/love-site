<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slot 7x5 Ultimate - –£–ª—É—á—à–µ–Ω–Ω—ã–π</title>

<style>
body { background:#222; color:white; font-family:Arial; text-align:center; margin:0; padding:10px; }
.container { max-width:520px; margin:auto; background:#333; padding:15px; border-radius:15px; }
.slots { display:grid; grid-template-columns:repeat(7,1fr); grid-template-rows:repeat(5,80px); gap:8px; margin:15px 0; }
.slot { background:#444; border-radius:10px; font-size:26px; display:flex; align-items:center; justify-content:center; transition:.15s; }
.spin { transform:scale(1.1); }
.win { box-shadow:0 0 10px gold; border:2px solid gold; }
.mult { color:#ffd700; font-weight:bold; }
.controls { display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }
button,input,select { padding:10px; font-size:16px; border-radius:8px; border:none; }
button { background:#ff6347; color:#fff; cursor:pointer; }
button:hover { background:#ff4500; }
.won { color:lime; }
.lost { color:red; }
.bonus { position:fixed; inset:0; background:rgba(0,0,0,0.85); display:none; align-items:center; justify-content:center; }
.bonus-box { background:#333; padding:20px; border-radius:15px; width:300px; }
.red { background:#c0392b; }
.black { background:#000; }
.bonus-game-box { background:#444; padding:20px; margin-top:15px; border-radius:15px; }
@media(max-width:480px){ .slot{ font-size:22px; } }
</style>
</head>
<body>

<h2>üé∞ Slot 7x5 Ultimate</h2>

<div class="container">
    <div>–ë–∞–ª–∞–Ω—Å: <b><span id="balance">15000</span></b></div>
    <div class="slots" id="slots"></div>
    <div class="controls">
        <input type="number" id="bet" value="10" min="1">
        <select id="lines">
            <option value="1">1 –ª–∏–Ω–∏—è</option>
            <option value="3">3 –ª–∏–Ω–∏–∏</option>
            <option value="5">5 –ª–∏–Ω–∏–π</option>
            <option value="7">7 –ª–∏–Ω–∏–π</option>
        </select>
    </div>
    <div class="controls">
        <button onclick="spin()">SPIN</button>
        <button onclick="toggleAuto()" id="autoBtn">AUTOSPIN</button>
    </div>
    <div id="result" style="margin-top:10px;font-size:18px;"></div>
</div>

<!-- BONUS X2 -->
<div class="bonus" id="bonus">
    <div class="bonus-box">
        <h3>üî• –ë–û–ù–£–° X2</h3>
        <p>–í—ã–±–µ—Ä–∏ —Ü–≤–µ—Ç</p>
        <button class="red" onclick="pickColor('red')">üî¥ –ö—Ä–∞—Å–Ω–æ–µ</button>
        <button class="black" onclick="pickColor('black')">‚ö´ –ß—ë—Ä–Ω–æ–µ</button>
    </div>
</div>

<!-- New Bonus Game Section -->
<div class="bonus-game-box">
    <h3>üíé –ë–æ–Ω—É—Å–Ω–∞—è –∏–≥—Ä–∞</h3>
    <p>–°—Ç–æ–∏–º–æ—Å—Ç—å: 10 000</p>
    <button onclick="buyBonus()">–ö—É–ø–∏—Ç—å –±–æ–Ω—É—Å–Ω—É—é –∏–≥—Ä—É</button>
</div>

<script>
let balance = 15000;
let auto = false, autoInt;
let bonusAmount = 0;
let freeSpins = 0;
let currentBonusWin = 0;
let pickedColor = null; // –î–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞

const baseSymbols = ['üçí','üçã','üçä','üçâ','7Ô∏è‚É£']; // –ó–∞–º–µ–Ω–∏–ª–∏ –∫–ª–µ–≤–µ—Ä–∞ –Ω–∞ —Å–µ–º–µ—Ä–æ—á–∫–∏
const multipliers = [{t:'x2',v:2},{t:'x5',v:5},{t:'x10',v:10}]; // Removed x100

// –û–±–Ω–æ–≤–ª—è–µ–º –ª–∏–Ω–∏–∏ –¥–ª—è –ø–æ–ª—è 7x5
const paylines = [
    [[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[0,6]],
    [[1,0],[1,1],[1,2],[1,3],[1,4],[1,5],[1,6]],
    [[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6]],
    [[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6]],
    [[4,0],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6]],
    [[0,0],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6]],
    [[0,6],[1,5],[2,4],[3,3],[4,2],[5,1],[6,0]],
    [[0,0],[1,1],[2,2],[3,3],[4,4]],
    [[1,0],[2,1],[3,2],[4,3],[5,4]],
    [[2,0],[3,1],[4,2],[5,3],[6,4]],
    [[0,4],[1,3],[2,2],[3,1],[4,0]],
    [[1,4],[2,3],[3,2],[4,1],[5,0]],
    [[2,4],[3,3],[4,2],[5,1],[6,0]],
    [[0,2],[1,3],[2,4],[3,5],[4,6]],
    [[1,2],[2,3],[3,4],[4,5],[5,6]],
    [[2,2],[3,3],[4,4],[5,5],[6,6]],
];

const slotsEl = document.getElementById('slots');
const balanceEl = document.getElementById('balance');
const resultEl = document.getElementById('result');
const bonusEl = document.getElementById('bonus');

let grid=[], matrix=[];

// —Å–æ–∑–¥–∞—ë–º –ø–æ–ª–µ 7x5
for(let r=0;r<5;r++){
    grid[r]=[];
    for(let c=0;c<7;c++){
        const d=document.createElement('div');
        d.className='slot';
        d.textContent='‚ùî';
        slotsEl.appendChild(d);
        grid[r][c]=d;
    }
}

function clearWin(){
    grid.flat().forEach(s=>s.classList.remove('win','spin'));
}

// —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—ã–∏–≥—Ä—ã—à–∞ —á–∞—â–µ
function generateSymbols(lines){
    matrix = [[],[],[],[],[]]; // –î–ª—è 5 —Ä—è–¥–æ–≤
    for(let r=0;r<5;r++){
        for(let c=0;c<7;c++){
            matrix[r][c] = {t: baseSymbols[Math.floor(Math.random()*baseSymbols.length)], v:1};
        }
    }

    // –£–º–µ–Ω—å—à–∞–µ–º —à–∞–Ω—Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –Ω–∞ –ª–∏–Ω–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 30% —à–∞–Ω—Å)
    const winLine = paylines[Math.floor(Math.random()*lines)];
    const symbol = baseSymbols[Math.floor(Math.random()*baseSymbols.length)];
    for(let i=0;i<7;i++){
        if(Math.random()<0.3) matrix[winLine[i][0]][winLine[i][1]].t = symbol; // 30% —à–∞–Ω—Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö
    }

    // –£–º–µ–Ω—å—à–∞–µ–º —à–∞–Ω—Å –≤—ã–ø–∞–¥–µ–Ω–∏—è –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π
    const multCount = Math.floor(Math.random()*3); // –ú–µ–Ω—å—à–µ –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π
    let positions=[];
    for(let r=0;r<5;r++){ for(let c=0;c<7;c++) positions.push([r,c]); }
    positions.sort(()=>Math.random()-0.5);
    const multPos = positions.slice(0,multCount); // –ú–µ–Ω—å—à–µ –ø–æ–∑–∏—Ü–∏–π —Å –º–Ω–æ–∂–∏—Ç–µ–ª—è–º–∏
    for(let [r,c] of multPos){
        matrix[r][c].v = multipliers[Math.floor(Math.random()*multipliers.length)].v;
    }
}

function spin(){
    const bet = +betInput.value;
    const lines = +linesInput.value;
    const total = bet*lines;
    if(total>balance){
        resultEl.textContent = '‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤';
        return;
    }

    balance -= total;
    balanceEl.textContent = balance;
    resultEl.textContent='';
    clearWin();

    let step=0;
    const anim = setInterval(()=>{
        generateSymbols(lines);

        for(let r=0;r<5;r++){
            for(let c=0;c<7;c++){
                const s = matrix[r][c];
                grid[r][c].innerHTML = s.v>1 ? `<span class="mult">x${s.v}</span>` : s.t;
                grid[r][c].classList.add('spin');
            }
        }

        if(++step>6){
            clearInterval(anim);
            clearWin();
            bonusAmount = calcWin(bet,lines);
            if(bonusAmount>0 && matrix.flat().filter(s=>s.t==='7Ô∏è‚É£').length>=3){
                openBonus();
            }
        }
    },100);
}

function calcWin(bet,lines){
    let win = 0;
    for(let i=0;i<lines;i++){
        const line = paylines[i];
        let symbol=null,count=0,mult=1;
        for(let p of line){
            const s = matrix[p[0]][p[1]];
            if(s.v>1){ mult*=s.v; grid[p[0]][p[1]].classList.add('win'); continue; }
            if(!symbol){ symbol=s.t; count=1; grid[p[0]][p[1]].classList.add('win'); }
            else if(s.t===symbol){ count++; grid[p[0]][p[1]].classList.add('win'); }
        }
        if(count>=3) win += bet*count*mult;
    }
    balance += win;
    balanceEl.textContent = balance;
    resultEl.innerHTML = win ? `<span class="won">üéâ –í—ã–∏–≥—Ä—ã—à: ${win}</span>` : `<span class="lost">üòû –ü—Ä–æ–∏–≥—Ä—ã—à</span>`;
    return win;
}

function openBonus(){
    bonusEl.style.display='flex';
    auto=false;
    clearInterval(autoInt);
    autoBtn.textContent='AUTOSPIN';
}

function buyBonus(){
    if(balance >= 10000){  // –ò–∑–º–µ–Ω–∏–ª–∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å –±–æ–Ω—É—Å–∞ –Ω–∞ 10 000
        balance -= 10000;
        balanceEl.textContent = balance;
        freeSpins = 20;
        currentBonusWin = 0;
        resultEl.textContent = `üí• –í—ã –∫—É–ø–∏–ª–∏ –±–æ–Ω—É—Å–Ω—É—é –∏–≥—Ä—É —Å 20 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–º–∏ –ø—Ä–æ–∫—Ä—É—Ç–∞–º–∏!`;
        startBonusGame();
    } else {
        resultEl.textContent = '‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –±–æ–Ω—É—Å–∞.';
    }
}

function startBonusGame() {
    let spins = 0;
    currentBonusWin = 0; // –æ–±–Ω—É–ª—è–µ–º —Ç–µ–∫—É—â–∏–π –±–æ–Ω—É—Å–Ω—ã–π –≤—ã–∏–≥—Ä—ã—à

    // –∑–∞–ø—É—Å–∫–∞–µ–º –±–æ–Ω—É—Å–Ω—ã–µ —Å–ø–∏–Ω—ã
    const bonusAnim = setInterval(() => {
        if (spins < freeSpins) {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è –±–æ–Ω—É—Å–Ω—ã—Ö –ø—Ä–æ–∫—Ä—É—Ç–æ–≤
            generateSymbols(7);

            // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ
            for (let r = 0; r < 5; r++) {
                for (let c = 0; c < 7; c++) {
                    const s = matrix[r][c];
                    grid[r][c].innerHTML = s.v > 1 ? `<span class="mult">x${s.v}</span>` : s.t;
                    grid[r][c].classList.add('spin');
                }
            }

            // –í—ã—á–∏—Å–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–æ–Ω—É—Å–Ω–æ–≥–æ —Å–ø–∏–Ω–∞ –∏ –¥–æ–±–∞–≤–ª—è–µ–º –∫ –æ–±—â–µ–º—É –≤—ã–∏–≥—Ä—ã—à—É
            currentBonusWin += calcWin(+betInput.value, 7);  // –ò—Å–ø–æ–ª—å–∑—É–µ–º 7 –ª–∏–Ω–∏–π –¥–ª—è –±–æ–Ω—É—Å–Ω—ã—Ö —Å–ø–∏–Ω–æ–≤
            spins++;
        } else {
            clearInterval(bonusAnim);
            // –ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–∏–≥—Ä—ã—à —É–º–Ω–æ–∂–∞–µ–º –Ω–∞ 10
            const finalWin = currentBonusWin * 10;
            resultEl.innerHTML = `üéâ –ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–∏–≥—Ä—ã—à —É–º–Ω–æ–∂–µ–Ω –Ω–∞ 10! –í—ã–∏–≥—Ä—ã—à: ${finalWin}`;
            balance += finalWin;
            balanceEl.textContent = balance;
        }
    }, 1000); // 1 —Å–µ–∫—É–Ω–¥–∞ –º–µ–∂–¥—É –∫–∞–∂–¥—ã–º –±–æ–Ω—É—Å–Ω—ã–º —Å–ø–∏–Ω–æ–º
}

function pickColor(color) {
    pickedColor = color; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç
    const result = Math.random() < 0.5 ? 'red' : 'black'; // —Å–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    if (pickedColor === result) {
        resultEl.textContent = `üéâ –í—ã –≤—ã–±—Ä–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ! –í—ã–∏–≥—Ä—ã—à: ${bonusAmount}`;
        balance += bonusAmount;
    } else {
        resultEl.textContent = `üí• –í—ã –≤—ã–±—Ä–∞–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ë–æ–Ω—É—Å –ø—Ä–æ–∏–≥—Ä–∞–Ω.`;
    }
    balanceEl.textContent = balance;
    bonusEl.style.display = 'none';
}

const betInput = document.getElementById('bet');
const linesInput = document.getElementById('lines');
const autoBtn = document.getElementById('autoBtn');
</script>

</body>
</html>















































































































































































