<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Pacifico&display=swap" rel="stylesheet">

<style>
:root{
--brightness:1;
--fontSize:16px;
--gridColor:rgba(220,220,220,.6);
}

*{box-sizing:border-box}

body{
margin:0;
font-family:Montserrat;
font-size:var(--fontSize);
filter:brightness(var(--brightness));
min-height:100vh;

/* –¢–ï–¢–†–ê–î–ù–´–ô –õ–ò–°–¢ */
background:
linear-gradient(#fff 23px,var(--gridColor) 24px),
linear-gradient(90deg,#fff 23px,var(--gridColor) 24px);
background-size:24px 24px;
padding:80px 20px 40px 60px;
position:relative;
}

/* –ö–†–ê–°–ù–û–ï –ü–û–õ–ï */
body::before{
content:"";
position:fixed;
left:40px;top:0;bottom:0;
width:2px;
background:#ff9aa2;
opacity:.6;
}

.lock{
position:fixed;inset:0;
background:#000;
display:flex;align-items:center;justify-content:center;
z-index:1000
}
.lock input{
padding:15px;font-size:18px;border-radius:12px;border:none
}

/* –ú–ï–ù–Æ */
.menu-btn{
position:fixed;top:15px;left:15px;
font-size:26px;background:none;border:none;
cursor:pointer;z-index:999
}

/* –ö–ê–†–¢–û–ß–ö–ê */
.app{
max-width:900px;
margin:auto;
background:#fff;
border-radius:16px;
padding:25px;
box-shadow:0 10px 25px rgba(0,0,0,.15)
}

.header{
font-family:Pacifico;
font-size:28px;
text-align:center
}

#counter{
margin:10px 0 15px;
font-size:16px
}

/* –ì–ê–õ–ï–†–ï–Ø */
.gallery{
margin-top:20px;
display:grid;
grid-template-columns:repeat(4,1fr);
gap:15px
}

.photo{
background:#fff;
padding:8px;
border-radius:6px;
box-shadow:0 6px 15px rgba(0,0,0,.2);
position:relative
}
.photo::before{
content:"üìé";
position:absolute;
top:-18px;
left:6px;
font-size:20px
}

.photo img{
width:100%;
aspect-ratio:1/1;
object-fit:cover;
cursor:pointer
}

.photo textarea{
width:100%;
border:none;
resize:none;
font-size:12px;
background:transparent
}

.actions{
display:flex;justify-content:space-between
}
.actions button{
border:none;background:none;
cursor:pointer;font-size:16px
}

/* –û–í–ï–†–õ–ï–ô */
.overlay{
position:fixed;inset:0;
background:rgba(0,0,0,.9);
display:flex;align-items:center;justify-content:center;
z-index:2000
}
.overlay img{max-width:90%;max-height:90%}
</style>
</head>

<body>

<div class="lock" id="lock">
<input type="password" placeholder="–ü–∞—Ä–æ–ª—å ‚ù§Ô∏è" onkeydown="checkPass(event)">
</div>

<button class="menu-btn">‚ò∞</button>

<div class="app" id="app" style="display:none">

<div class="header">
–ê–¥–µ–ª–∞–∏–¥–∞ + –°–∞—à–∞ = –≤–µ—á–Ω–æ—Å—Ç—å ‚úçÔ∏è
</div>

<div id="counter"></div>

<input type="file" multiple accept="image/*" onchange="addPhotos(event)">

<div class="gallery" id="gallery"></div>

</div>

<script>
const PASS="love";
const lock=document.getElementById("lock");
const app=document.getElementById("app");
const gallery=document.getElementById("gallery");

function checkPass(e){
if(e.key==="Enter"&&e.target.value===PASS){
lock.style.display="none";
app.style.display="block";
}
}

/* –°–ß–Å–¢–ß–ò–ö */
const start=new Date(2024,7,5);
setInterval(()=>{
const d=Math.floor((Date.now()-start)/86400000);
counter.innerText=`–ú—ã –≤–º–µ—Å—Ç–µ ${d} –¥–Ω–µ–π ‚ù§Ô∏è`;
},1000);

/* –ì–ê–õ–ï–†–ï–Ø */
let photos=JSON.parse(localStorage.photos||"[]");
function save(){localStorage.photos=JSON.stringify(photos)}

function addPhotos(e){
for(let f of e.target.files){
const r=new FileReader();
r.onload=x=>{
photos.push({src:x.target.result,text:"",fav:false});
save();render();
};
r.readAsDataURL(f);
}
}

function render(){
gallery.innerHTML="";
photos.forEach((p,i)=>{
const d=document.createElement("div");
d.className="photo";
d.innerHTML=`
<img src="${p.src}" onclick="openImg(${i})">
<textarea placeholder="–ü–æ–¥–ø–∏—Å—å..." oninput="photos[${i}].text=this.value;save()">${p.text}</textarea>
<div class="actions">
<button onclick="removePhoto(${i})">‚úñ</button>
</div>`;
gallery.appendChild(d);
});
}

function openImg(i){
const o=document.createElement("div");
o.className="overlay";
o.onclick=()=>o.remove();
o.innerHTML=`<img src="${photos[i].src}">`;
document.body.appendChild(o);
}

function removePhoto(i){
if(confirm("–£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ?")){
photos.splice(i,1);save();render();
}
}

render();
</script>

</body>
</html>





















