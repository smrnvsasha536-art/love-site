<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slot 5x3 Ultimate - Pro Edition</title>
<style>
body { background:#222; color:white; font-family:Arial; text-align:center; margin:0; padding:10px; }
.container { max-width:520px; margin:auto; background:#333; padding:15px; border-radius:15px; }
.slots { display:grid; grid-template-columns:repeat(5,1fr); grid-template-rows:repeat(3,80px); gap:8px; margin:15px 0; }
.slot { background:#444; border-radius:10px; font-size:26px; display:flex; align-items:center; justify-content:center; transition:.15s; position:relative; }
.spin { transform:scale(1.1); }
.win { box-shadow:0 0 10px gold; border:2px solid gold; animation:flash 0.5s infinite alternate; }
@keyframes flash { 0%{box-shadow:0 0 10px gold;} 100%{box-shadow:0 0 20px gold;} }
.mult { color:#ffd700; font-weight:bold; }
.controls { display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }
button,input,select { padding:10px; font-size:16px; border-radius:8px; border:none; }
button { background:#ff6347; color:#fff; cursor:pointer; }
button:hover { background:#ff4500; }
.won { color:lime; font-weight:bold; }
.lost { color:red; font-weight:bold; }
.bonus { position:fixed; inset:0; background:rgba(0,0,0,0.85); display:none; align-items:center; justify-content:center; }
.bonus-box { background:#333; padding:20px; border-radius:15px; width:320px; text-align:center; }
.red { background:#c0392b; }
.black { background:#000; }
.line-anim { position:absolute; width:100%; height:100%; border:2px solid lime; border-radius:10px; pointer-events:none; }
@media(max-width:480px){ .slot{ font-size:22px; } }
</style>
</head>
<body>

<h2>üé∞ Slot 5x3 Ultimate Pro</h2>
<div class="container">
    <div>–ë–∞–ª–∞–Ω—Å: <b><span id="balance">15000</span></b></div>
    <div class="slots" id="slots"></div>
    <div class="controls">
        <input type="number" id="bet" value="10" min="1">
        <select id="lines">
            <option value="1">1 –ª–∏–Ω–∏—è</option>
            <option value="3">3 –ª–∏–Ω–∏–∏</option>
            <option value="5">5 –ª–∏–Ω–∏–π</option>
        </select>
    </div>
    <div class="controls">
        <button onclick="spin()">SPIN</button>
        <button onclick="toggleAuto()" id="autoBtn">AUTOSPIN</button>
    </div>
    <div id="result" style="margin-top:10px;font-size:18px;"></div>
</div>

<!-- BONUS X2 -->
<div class="bonus" id="bonus">
    <div class="bonus-box">
        <h3>üî• –ë–û–ù–£–° ‚Äì –ö–æ–ª–µ—Å–æ —É–¥–∞—á–∏</h3>
        <p>–í—ã–±–µ—Ä–∏ —Å–µ–≥–º–µ–Ω—Ç</p>
        <button class="red" onclick="pickBonus(2)">x2</button>
        <button class="black" onclick="pickBonus(3)">x3</button>
        <button class="red" onclick="pickBonus(5)">x5</button>
        <button class="black" onclick="pickBonus(10)">x10</button>
    </div>
</div>

<script>
// === –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ===
let balance = 15000;
let auto=false, autoInt;
let bonusAmount=0;
let streakMultiplier=1; // –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å

// –°–∏–º–≤–æ–ª—ã
const baseSymbols = ['üçí','üçã','üçä','üçâ','üçÄ'];
const jackpotSymbols = ['üíé','‚≠ê'];
const secretSymbols = ['üé©'];
const multipliers = [{t:'x2',v:2},{t:'x5',v:5},{t:'x10',v:10},{t:'x50',v:50}];
const paylines = [
    [[1,0],[1,1],[1,2],[1,3],[1,4]],
    [[0,0],[0,1],[0,2],[0,3],[0,4]],
    [[2,0],[2,1],[2,2],[2,3],[2,4]],
    [[0,0],[1,1],[2,2],[1,3],[0,4]],
    [[2,0],[1,1],[0,2],[1,3],[2,4]]
];

const slotsEl = document.getElementById('slots');
const balanceEl = document.getElementById('balance');
const resultEl = document.getElementById('result');
const bonusEl = document.getElementById('bonus');

let grid=[], matrix=[];

// —Å–æ–∑–¥–∞—ë–º –ø–æ–ª–µ
for(let r=0;r<3;r++){
    grid[r]=[];
    for(let c=0;c<5;c++){
        const d=document.createElement('div');
        d.className='slot';
        d.textContent='‚ùî';
        slotsEl.appendChild(d);
        grid[r][c]=d;
    }
}

function clearWin(){
    grid.flat().forEach(s=>s.classList.remove('win','spin'));
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–º–≤–æ–ª–æ–≤ —Å —á–∞—Å—Ç—ã–º–∏ –≤—ã–∏–≥—Ä—ã—à–∞–º–∏, –¥–∂–µ–∫–ø–æ—Ç–∞–º–∏ –∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏
function generateSymbols(lines){
    matrix = [[],[],[]];
    for(let r=0;r<3;r++){
        for(let c=0;c<5;c++){
            // –±–∞–∑–æ–≤—ã–µ + —Ä–µ–¥–∫–∏–µ –¥–∂–µ–∫–ø–æ—Ç—ã + —Å–µ–∫—Ä–µ—Ç
            let rand = Math.random();
            if(rand<0.03) matrix[r][c]={t:jackpotSymbols[Math.floor(Math.random()*jackpotSymbols.length)],v:1};
            else if(rand<0.06) matrix[r][c]={t:secretSymbols[Math.floor(Math.random()*secretSymbols.length)],v:1};
            else matrix[r][c]={t:baseSymbols[Math.floor(Math.random()*baseSymbols.length)],v:1};
        }
    }

    // –¥–µ–ª–∞–µ–º —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –ª–∏–Ω–∏—é –≤—ã–∏–≥—Ä—ã—à–Ω–æ–π
    const winLine = paylines[Math.floor(Math.random()*lines)];
    const symbol = baseSymbols[Math.floor(Math.random()*baseSymbols.length)];
    for(let i=0;i<5;i++){
        if(Math.random()<0.6) matrix[winLine[i][0]][winLine[i][1]].t = symbol;
    }

    // —Å–ª—É—á–∞–π–Ω—ã–µ –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä—ã
    const multCount = Math.floor(Math.random()*4);
    let positions=[];
    for(let r=0;r<3;r++){ for(let c=0;c<5;c++) positions.push([r,c]); }
    positions.sort(()=>Math.random()-0.5);
    const multPos = positions.slice(0,multCount);
    for(let [r,c] of multPos){
        matrix[r][c].v = multipliers[Math.floor(Math.random()*multipliers.length)].v;
    }
}

// === –°–ü–ò–ù ===
function spin(){
    const bet = +betInput.value;
    const lines = +linesInput.value;
    const total = bet*lines;
    if(total>balance){
        resultEl.textContent='‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤';
        return;
    }

    balance -= total;
    balanceEl.textContent = balance;
    resultEl.textContent='';
    clearWin();

    let step=0;
    const anim = setInterval(()=>{
        generateSymbols(lines);

        for(let r=0;r<3;r++){
            for(let c=0;c<5;c++){
                const s=matrix[r][c];
                grid[r][c].innerHTML = s.v>1 ? `<span class="mult">x${s.v}</span>` : s.t;
                grid[r][c].classList.add('spin');
            }
        }

        if(++step>6){
            clearInterval(anim);
            clearWin();
            bonusAmount = calcWin(bet,lines);
            if(bonusAmount>0 && matrix.flat().some(s=>jackpotSymbols.includes(s.t))){
                streakMultiplier=1; // –¥–∂–µ–∫–ø–æ—Ç —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—é
                resultEl.innerHTML += ' üéâ –î–∂–µ–∫–ø–æ—Ç!';
            }
            if(bonusAmount>0 && matrix.flat().filter(s=>s.t==='üçÄ').length>=3){
                openBonus();
            }
        }
    },100);
}

// === –í–´–ò–ì–†–´–® ===
function calcWin(bet,lines){
    let win=0;
    for(let i=0;i<lines;i++){
        const line = paylines[i];
        let symbol=null,count=0,mult=1;
        for(let p of line){
            const s = matrix[p[0]][p[1]];
            if(s.v>1){ mult*=s.v; grid[p[0]][p[1]].classList.add('win'); continue; }
            if(!symbol){ symbol=s.t; count=1; grid[p[0]][p[1]].classList.add('win'); }
            else if(s.t===symbol){ count++; grid[p[0]][p[1]].classList.add('win'); }
        }
        if(count>=3) win += bet*count*mult*streakMultiplier;
    }
    if(win>0) streakMultiplier += 0.1; else streakMultiplier=1; // –ø—Ä–æ–≥—Ä–µ—Å—Å–∏—è
    balance += win;
    balanceEl.textContent = balance;
    resultEl.innerHTML = win ? `<span class="won">üéâ –í—ã–∏–≥—Ä—ã—à: ${win}</span>` : `<span class="lost">üòû –ü—Ä–æ–∏–≥—Ä—ã—à</span>`;
    return win;
}

// === –ë–û–ù–£–° ‚Äì –ö–æ–ª–µ—Å–æ —É–¥–∞—á–∏ ===
function openBonus(){
    bonusEl.style.display='flex';
    auto=false;
    clearInterval(autoInt);
    autoBtn.textContent='AUTOSPIN';
}

function pickBonus(mult){
    balance += bonusAmount*mult;
    resultEl.innerHTML = `üî• –ë–æ–Ω—É—Å x${mult}! +${bonusAmount*mult}`;
    balanceEl.textContent = balance;
    bonusEl.style.display='none';
}

// === AUTOSPIN ===
function toggleAuto(){
    auto=!auto;
    autoBtn.textContent=auto?'STOP':'AUTOSPIN';
    if(auto){
        autoInt=setInterval(()=>{
            if(balance>0) spin();
            else toggleAuto();
        },1200);
    } else clearInterval(autoInt);
}

const betInput=document.getElementById('bet');
const linesInput=document.getElementById('lines');
const autoBtn=document.getElementById('autoBtn');
</script>
</body>
</html>


























































































































