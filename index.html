<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Отправка SMS</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    form { max-width: 400px; margin: auto; display: flex; flex-direction: column; gap: 10px; }
    input, select, button { padding: 10px; font-size: 16px; }
    #result { text-align: center; font-weight: bold; margin-top: 15px; }
  </style>
</head>
<body>

<h2>Отправка SMS через Email-to-SMS</h2>

<form id="smsForm">
  <input type="text" id="phone" placeholder="Номер телефона (например, 9261234567)" required>
  <select id="operator" required>
    <option value="">Выберите оператора</option>
    <option value="mts">MTS</option>
    <option value="beeline">Beeline</option>
    <option value="megafon">Megafon</option>
    <option value="tele2">Tele2</option>
  </select>
  <input type="text" id="text" placeholder="Текст сообщения" required>
  <button type="submit">Отправить SMS</button>
</form>

<p id="result"></p>

<script>
const form = document.getElementById('smsForm');
const result = document.getElementById('result');

form.addEventListener('submit', async (e) => {
  e.preventDefault();

  const phone = document.getElementById('phone').value.trim();
  const operator = document.getElementById('operator').value;
  const text = document.getElementById('text').value.trim();

  if(!phone || !operator || !text){
    result.textContent = 'Заполните все поля!';
    result.style.color = 'red';
    return;
  }

  try {
    const response = await fetch('http://localhost:3000/send-sms', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ phone, operator, text })
    });

    const data = await response.json();

    if(data.success){
      result.textContent = data.message;
      result.style.color = 'green';
      form.reset();
    } else {
      result.textContent = 'Ошибка: ' + data.message;
      result.style.color = 'red';
    }
  } catch (err) {
    result.textContent = 'Ошибка сети: ' + err.message;
    result.style.color = 'red';
  }
});
</script>

</body>
</html>




































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































