<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ü—Ä–æ–±–∏–≤ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –†–§ ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f0f2f5;
  padding: 30px;
}
.container {
  max-width: 900px;
  margin: auto;
  background: #fff;
  padding: 25px;
  border-radius: 10px;
  box-shadow: 0 0 15px rgba(0,0,0,0.1);
}
input, button {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  margin: 10px 0;
}
button {
  background: #3498db;
  color: #fff;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
button:hover { background: #2980b9; }

.block {
  border: 1px solid #ddd;
  padding: 15px;
  margin-bottom: 15px;
  border-radius: 8px;
}
.good { background: #eafaf1; border-color: #2ecc71; }
.warn { background: #fff6e5; border-color: #f39c12; }
.bad  { background: #fdecea; border-color: #e74c3c; }
</style>
</head>

<body>
<div class="container">
  <h2>üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –Ω–æ–º–µ—Ä–∞ (–†–æ—Å—Å–∏—è)</h2>
  <input id="phone" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏–ª–∏ –ø—Ä–æ–±–µ–ª">
  <button onclick="checkPhones()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
  <div id="result"></div>
</div>

<script>
/* ================= –†–ï–ì–ò–û–ù–´ –ò –ì–û–†–û–î–ê ================= */

const regions = {
  // –ú–æ—Å–∫–≤–∞ –∏ –°–ü–ë
  "495": { city: "–ú–æ—Å–∫–≤–∞", region: "–ú–æ—Å–∫–≤–∞", utc: 3 },
  "498": { city: "–ú–æ—Å–∫–≤–∞", region: "–ú–æ—Å–∫–≤–∞", utc: 3 },
  "499": { city: "–ú–æ—Å–∫–≤–∞", region: "–ú–æ—Å–∫–≤–∞", utc: 3 },
  "812": { city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", region: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", utc: 3 },

  // –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–≥–∏–æ–Ω
  "484": { city: "–ö–∞–ª—É–≥–∞", region: "–ö–∞–ª—É–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "487": { city: "–¢—É–ª–∞", region: "–¢—É–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "482": { city: "–¢–≤–µ—Ä—å", region: "–¢–≤–µ—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "485": { city: "–Ø—Ä–æ—Å–ª–∞–≤–ª—å", region: "–Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "492": { city: "–í–ª–∞–¥–∏–º–∏—Ä", region: "–í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "481": { city: "–°–º–æ–ª–µ–Ω—Å–∫", region: "–°–º–æ–ª–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "483": { city: "–ë—Ä—è–Ω—Å–∫", region: "–ë—Ä—è–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "486": { city: "–û—Ä—ë–ª", region: "–û—Ä–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "474": { city: "–õ–∏–ø–µ—Ü–∫", region: "–õ–∏–ø–µ—Ü–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "471": { city: "–ö—É—Ä—Å–∫", region: "–ö—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "473": { city: "–í–æ—Ä–æ–Ω–µ–∂", region: "–í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "491": { city: "–†—è–∑–∞–Ω—å", region: "–†—è–∑–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },

  // –ü–æ–≤–æ–ª–∂—å–µ
  "843":  { city: "–ö–∞–∑–∞–Ω—å", region: "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω", utc: 3 },
  "846":  { city: "–°–∞–º–∞—Ä–∞", region: "–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 4 },
  "8452": { city: "–°–∞—Ä–∞—Ç–æ–≤", region: "–°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 4 },
  "8412": { city: "–ü–µ–Ω–∑–∞", region: "–ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 4 },
  "8422": { city: "–£–ª—å—è–Ω–æ–≤—Å–∫", region: "–£–ª—å—è–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 4 },
  "8442": { city: "–í–æ–ª–≥–æ–≥—Ä–∞–¥", region: "–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 4 },
  "8512": { city: "–ê—Å—Ç—Ä–∞—Ö–∞–Ω—å", region: "–ê—Å—Ç—Ä–∞—Ö–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 4 },

  // –£—Ä–∞–ª
  "343":  { city: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥", region: "–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 5 },
  "351":  { city: "–ß–µ–ª—è–±–∏–Ω—Å–∫", region: "–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 5 },
  "352":  { city: "–ö—É—Ä–≥–∞–Ω", region: "–ö—É—Ä–≥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 5 },
  "345":  { city: "–¢—é–º–µ–Ω—å", region: "–¢—é–º–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 5 },
  "3812": { city: "–û–º—Å–∫", region: "–û–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 6 },
  "3422": { city: "–ü–µ—Ä–º—å", region: "–ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π", utc: 5 },
  "3472": { city: "–£—Ñ–∞", region: "–ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω", utc: 5 },

  // –°–∏–±–∏—Ä—å
  "383":  { city: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫", region: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 7 },
  "3912": { city: "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫", region: "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π", utc: 7 },
  "3952": { city: "–ò—Ä–∫—É—Ç—Å–∫", region: "–ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 8 },
  "3822": { city: "–¢–æ–º—Å–∫", region: "–¢–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 7 },
  "3852": { city: "–ë–∞—Ä–Ω–∞—É–ª", region: "–ê–ª—Ç–∞–π—Å–∫–∏–π –∫—Ä–∞–π", utc: 7 },
  "4112": { city: "–Ø–∫—É—Ç—Å–∫", region: "–°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)", utc: 9 },

  // –î–∞–ª—å–Ω–∏–π –í–æ—Å—Ç–æ–∫
  "4232":  { city: "–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫", region: "–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π", utc: 10 },
  "4212":  { city: "–•–∞–±–∞—Ä–æ–≤—Å–∫", region: "–•–∞–±–∞—Ä–æ–≤—Å–∫–∏–π –∫—Ä–∞–π", utc: 10 },
  "41322": { city: "–ú–∞–≥–∞–¥–∞–Ω", region: "–ú–∞–≥–∞–¥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 11 },

  // –î—Ä—É–≥–∏–µ
  "863":  { city: "–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", region: "–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 3 },
  "862":  { city: "–°–æ—á–∏", region: "–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π", utc: 3 },
  "39152":{ city: "–ù–æ—Ä–∏–ª—å—Å–∫", region: "–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π", utc: 7 },
  "302":  { city: "–ß–∏—Ç–∞", region: "–ó–∞–±–∞–π–∫–∞–ª—å—Å–∫–∏–π –∫—Ä–∞–π", utc: 9 },
  "3842": { city: "–ö–µ–º–µ—Ä–æ–≤–æ", region: "–ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å", utc: 7 },
  "821":  { city: "–°—ã–∫—Ç—ã–≤–∫–∞—Ä", region: "–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏", utc: 3 }
};

/* ================= –ê–ù–ê–õ–ò–ó / –≠–í–†–ò–°–¢–ò–ö–ê ================= */

const spamCodes = ["800","8800","495","499"];
const businessCodes = ["800","8800","495","812","863"];

function normalize(num) {
  let d = num.replace(/\D/g,"");
  if (d.length === 11 && d.startsWith("8")) d = "7" + d.slice(1);
  if (d.length === 10) d = "7" + d;
  return d;
}

function format(n) {
  return `+7 (${n.slice(1,4)}) ${n.slice(4,7)}-${n.slice(7,9)}-${n.slice(9)}`;
}

function findRegion(n) {
  let found = null;
  Object.keys(regions).sort((a,b)=>b.length-a.length).forEach(code=>{
    if (!found && n.slice(1).startsWith(code)) {
      found = regions[code];
    }
  });
  return found;
}

function analyze(n) {
  let score = 100;
  let flags = [];
  let code = n.slice(1,4);

  if (spamCodes.includes(code)) {
    flags.push("üî¥ –ß–∞—Å—Ç–æ –∂–∞–ª—É—é—Ç—Å—è / –≤–æ–∑–º–æ–∂–Ω—ã–π —Å–ø–∞–º");
    score -= 40;
  }

  if (businessCodes.includes(code)) {
    flags.push("üè¢ –í–æ–∑–º–æ–∂–Ω—ã–π –±–∏–∑–Ω–µ—Å / –∫–æ–ª–ª‚Äë—Ü–µ–Ω—Ç—Ä");
    score -= 20;
  }

  if (/000$|111$|222$/.test(n)) {
    flags.push("üü° –í–æ–∑–º–æ–∂–Ω–æ –Ω–æ–≤—ã–π –∏–ª–∏ –ø–µ—Ä–µ–≤—ã–ø—É—â–µ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä");
    score -= 10;
  }

  let mentions = Math.floor(Math.random()*50);
  if (mentions === 0) {
    flags.push("üìä –£–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤ —Å–µ—Ç–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ");
  } else {
    flags.push(`üìä –£–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤ —Å–µ—Ç–∏: ~${mentions}`);
    score -= Math.min(mentions,20);
  }

  return {score, flags};
}

/* ================= –û–°–ù–û–í–ù–ê–Ø –õ–û–ì–ò–ö–ê ================= */

function checkPhones() {
  const input = document.getElementById("phone").value;
  const result = document.getElementById("result");
  result.innerHTML = "";

  input.split(/[\s,;]+/).filter(Boolean).forEach(raw=>{
    let n = normalize(raw);
    if (n.length !== 11) {
      result.innerHTML += `<div class="block bad">‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä: <b>${raw}</b></div>`;
      return;
    }

    let region = findRegion(n);
    let a = analyze(n);

    let cls = a.score < 40 ? "bad" : a.score < 70 ? "warn" : "good";

    result.innerHTML += `
      <div class="block ${cls}">
        üìû <b>${format(n)}</b><br>
        üìç ${region ? region.region + ", –≥. " + region.city : "–†–µ–≥–∏–æ–Ω –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω"}<br>
        ‚è∞ UTC+${region ? region.utc : "?"}<br><br>
        üß† –†–µ–π—Ç–∏–Ω–≥ –¥–æ–≤–µ—Ä–∏—è: <b>${a.score}/100</b><br>
        ${a.flags.map(f=>"‚Ä¢ "+f).join("<br>")}
      </div>
    `;
  });
}
</script>
</body>
</html>

























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































