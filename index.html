<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Pacifico&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}

:root{
  --brightness:1;
  --fontSize:16px;
  --bgColor:#ffffff;
}

/* ===== –¢–ï–¢–†–ê–î–¨ –í –ö–õ–ï–¢–ö–£ ===== */
body{
  margin:0;
  min-height:100vh;
  font-family:Montserrat;
  font-size:var(--fontSize);
  filter:brightness(var(--brightness));

  background-color:var(--bgColor);
  background-image:
    linear-gradient(#e5e5e5 1px, transparent 1px),
    linear-gradient(90deg, #e5e5e5 1px, transparent 1px);
  background-size:24px 24px;

  padding:80px 20px 40px 70px;
}

/* –∫—Ä–∞—Å–Ω–æ–µ –ø–æ–ª–µ */
body::before{
  content:"";
  position:fixed;
  top:0;bottom:0;left:45px;
  width:2px;
  background:#ff8fa3;
}

/* ===== –ü–ê–†–û–õ–¨ ===== */
.lock{
  position:fixed;inset:0;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:2000;
}
.lock input{
  padding:15px 20px;
  font-size:18px;
  border-radius:14px;
  border:none;
}

/* ===== –ö–ù–û–ü–ö–ê –ú–ï–ù–Æ ===== */
.menu-btn{
  position:fixed;
  top:15px;
  left:15px;
  font-size:26px;
  background:none;
  border:none;
  cursor:pointer;
  z-index:1500;
}

/* ===== –ú–ï–ù–Æ ===== */
.menu{
  position:fixed;
  top:0;left:-260px;
  width:260px;
  height:100%;
  background:#fff;
  box-shadow:4px 0 20px rgba(0,0,0,.25);
  padding:20px;
  transition:.3s;
  z-index:1400;
}
.menu.open{left:0}

.menu h3{margin-top:0}

.menu label{
  display:block;
  margin:12px 0 4px;
  font-size:14px;
}

/* ===== –û–°–ù–û–í–ù–û–ï ===== */
.app{
  max-width:900px;
  margin:auto;
  background:#fff;
  border-radius:18px;
  padding:30px;
  box-shadow:0 15px 30px rgba(0,0,0,.15);
}

.header{
  font-family:Pacifico;
  font-size:30px;
  text-align:center;
}

.gallery{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:18px;
  margin-top:20px;
}

.photo{
  background:#fff;
  padding:8px;
  border-radius:6px;
  box-shadow:0 6px 18px rgba(0,0,0,.25);
  position:relative;
}
.photo::before{
  content:"üìé";
  position:absolute;
  top:-18px;
  left:8px;
  font-size:20px;
}
.photo img{
  width:100%;
  aspect-ratio:1/1;
  object-fit:cover;
  cursor:pointer;
}
.photo textarea{
  width:100%;
  border:none;
  resize:none;
  font-size:12px;
  background:transparent;
}

.actions{
  display:flex;
  justify-content:space-between;
}
.actions button{
  border:none;
  background:none;
  cursor:pointer;
  font-size:16px;
}

.overlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,.9);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:3000;
}
.overlay img{max-width:90%;max-height:90%}
</style>
</head>

<body>

<!-- –ü–ê–†–û–õ–¨ -->
<div class="lock" id="lock">
  <input type="password" placeholder="–ü–∞—Ä–æ–ª—å ‚ù§Ô∏è" onkeydown="checkPass(event)">
</div>

<!-- –ö–ù–û–ü–ö–ê -->
<button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>

<!-- –ú–ï–ù–Æ -->
<div class="menu" id="menu">
  <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>

  <label>–Ø—Ä–∫–æ—Å—Ç—å</label>
  <input type="range" min="0.7" max="1.3" step="0.05" onchange="setBrightness(this.value)">

  <label>–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞</label>
  <input type="range" min="14" max="20" step="1" onchange="setFont(this.value)">

  <label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞</label>
  <input type="color" onchange="setBg(this.value)">

  <hr>
  <button onclick="toggleHidden()">üîê –°–∫—Ä—ã—Ç—ã–µ —Ñ–æ—Ç–æ</button>
</div>

<!-- –û–°–ù–û–í–ù–û–ï -->
<div class="app" id="app" style="display:none">
  <div class="header">–ê–¥–µ–ª–∞–∏–¥–∞ + –°–∞—à–∞ = –≤–µ—á–Ω–æ—Å—Ç—å ‚úçÔ∏è</div>
  <div id="counter"></div>
  <input type="file" multiple accept="image/*" onchange="addPhotos(event)">
  <div class="gallery" id="gallery"></div>
</div>

<script>
const PASS="love";
const lock=document.getElementById("lock");
const app=document.getElementById("app");
const menu=document.getElementById("menu");
const gallery=document.getElementById("gallery");

function checkPass(e){
  if(e.key==="Enter"&&e.target.value===PASS){
    lock.style.display="none";
    app.style.display="block";
  }
}

/* ===== –ú–ï–ù–Æ ===== */
function toggleMenu(){
  menu.classList.toggle("open");
}

/* ===== –ù–ê–°–¢–†–û–ô–ö–ò ===== */
function setBrightness(v){
  document.documentElement.style.setProperty("--brightness",v);
  localStorage.brightness=v;
}
function setFont(v){
  document.documentElement.style.setProperty("--fontSize",v+"px");
  localStorage.fontSize=v;
}
function setBg(v){
  document.documentElement.style.setProperty("--bgColor",v);
  localStorage.bgColor=v;
}

/* –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ */
if(localStorage.brightness) setBrightness(localStorage.brightness);
if(localStorage.fontSize) setFont(localStorage.fontSize);
if(localStorage.bgColor) setBg(localStorage.bgColor);

/* ===== –°–ß–Å–¢–ß–ò–ö ===== */
const start=new Date(2024,7,5);
setInterval(()=>{
  counter.innerText=`–ú—ã –≤–º–µ—Å—Ç–µ ${Math.floor((Date.now()-start)/86400000)} –¥–Ω–µ–π ‚ù§Ô∏è`;
},1000);

/* ===== –§–û–¢–û ===== */
let photos=JSON.parse(localStorage.photos||"[]");
let showHidden=false;

function save(){localStorage.photos=JSON.stringify(photos);}

function addPhotos(e){
  for(let f of e.target.files){
    const r=new FileReader();
    r.onload=x=>{
      photos.push({src:x.target.result,text:"",hidden:false});
      save();render();
    };
    r.readAsDataURL(f);
  }
}

function toggleHidden(){
  showHidden=!showHidden;
  render();
}

function render(){
  gallery.innerHTML="";
  photos.filter(p=>showHidden||!p.hidden).forEach((p,i)=>{
    const d=document.createElement("div");
    d.className="photo";
    d.innerHTML=`
      <img src="${p.src}" onclick="openImg('${p.src}')">
      <textarea oninput="photos[${i}].text=this.value;save()">${p.text}</textarea>
      <div class="actions">
        <button onclick="photos[${i}].hidden=!photos[${i}].hidden;save();render()">üôà</button>
        <button onclick="photos.splice(${i},1);save();render()">‚úñ</button>
      </div>`;
    gallery.appendChild(d);
  });
}

function openImg(src){
  const o=document.createElement("div");
  o.className="overlay";
  o.onclick=()=>o.remove();
  o.innerHTML=`<img src="${src}">`;
  document.body.appendChild(o);
}

render();
</script>

</body>
</html>



























