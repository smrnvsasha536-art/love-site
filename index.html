<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Montserrat;
  min-height:100vh;
  background:linear-gradient(120deg,#ff9a9e,#fad0c4,#fbc2eb);
  background-size:400% 400%;
  animation:gradient 10s ease infinite;
  display:flex;
  justify-content:center;
  align-items:center;
  padding:20px;
  color:#fff;
  overflow-y:auto;
}
@keyframes gradient{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* –∫–∞—Ä—Ç–æ—á–∫–∞ */
.card{
  width:100%;
  max-width:900px;
  background:rgba(255,255,255,.25);
  backdrop-filter:blur(16px);
  border-radius:30px;
  padding:25px;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
  text-align:center;
}

/* –ø–∞—Ä–æ–ª—å */
.lock,.hidden-lock{
  position:fixed; inset:0;
  background:#000;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.lock input,.hidden-lock input{
  padding:15px;
  font-size:18px;
  border-radius:15px;
  border:none;
}

/* –º–µ–Ω—é */
.menu-btn{
  position:fixed;
  top:15px;
  left:15px;
  font-size:26px;
  cursor:pointer;
  z-index:1000;
}
.menu{
  position:fixed;
  top:0; left:-260px;
  width:260px;
  height:100%;
  background:rgba(0,0,0,.85);
  padding:20px;
  transition:.3s;
  z-index:999;
}
.menu.open{left:0}
.menu button{
  width:100%;
  margin:10px 0;
  padding:12px;
  border:none;
  border-radius:20px;
  font-size:16px;
  cursor:pointer;
}

/* —Å—á—ë—Ç—á–∏–∫ */
#counter{
  font-size:20px;
  margin:10px 0 20px;
}

/* –∫–Ω–æ–ø–∫–∏ */
.main-buttons button{
  margin:8px;
  padding:12px 20px;
  border:none;
  border-radius:25px;
  font-size:16px;
  cursor:pointer;
}

/* –≥–∞–ª–µ—Ä–µ—è */
.gallery{
  margin-top:20px;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
}
.photo{
  background:#fff;
  color:#333;
  border-radius:12px;
  overflow:hidden;
}
.photo img{
  width:100%;
  aspect-ratio:1/1;
  object-fit:cover;
  cursor:pointer;
}
.photo textarea{
  width:100%;
  border:none;
  padding:5px;
  font-size:12px;
  resize:none;
}
.actions{
  display:flex;
  justify-content:space-between;
  padding:5px;
}
.actions button{
  background:none;
  border:none;
  font-size:16px;
  cursor:pointer;
}

/* –ø—Ä–æ—Å–º–æ—Ç—Ä */
.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
}
.overlay img{
  max-width:90%;
  max-height:90%;
  border-radius:20px;
}
</style>
</head>

<body>

<div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>

<div class="menu" id="menu">
  <button onclick="showAll()">üì∏ –í—Å–µ —Ñ–æ—Ç–æ</button>
  <button onclick="showFav()">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
  <button onclick="askHidden()">üîê –°–∫—Ä—ã—Ç–∞—è –≥–∞–ª–µ—Ä–µ—è</button>
</div>

<div class="lock" id="lock">
  <input type="password" placeholder="–ü–∞—Ä–æ–ª—å ‚ù§Ô∏è" onkeydown="checkMain(event)">
</div>

<div class="hidden-lock" id="hiddenLock" style="display:none">
  <input type="password" placeholder="–°–µ–∫—Ä–µ—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å üîê" onkeydown="checkHidden(event)">
</div>

<div class="card" id="app" style="display:none">

<h1>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è üíï</h1>
<b>–°–∞—à–∞ ‚ù§Ô∏è –ê–¥—É—à–∫–∞</b>

<div id="counter"></div>

<div class="main-buttons">
  <button onclick="memory()">üïä –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ –¥–Ω—è</button>
  <button id="gift" style="display:none" onclick="openGift()">üéÅ –ü—Ä–∏–∑</button>
</div>

<input type="file" multiple accept="image/*" onchange="addPhotos(event)">

<div class="gallery" id="gallery"></div>
</div>

<script>
/* –ø–∞—Ä–æ–ª–∏ */
const MAIN_PASS="love";
const HIDDEN_PASS="secret";

const lock=document.getElementById("lock");
const hiddenLock=document.getElementById("hiddenLock");
const app=document.getElementById("app");
const gallery=document.getElementById("gallery");
const menu=document.getElementById("menu");

let mode="all";

/* –º–µ–Ω—é */
function toggleMenu(){menu.classList.toggle("open")}

/* –≤—Ö–æ–¥ */
function checkMain(e){
  if(e.key==="Enter" && e.target.value===MAIN_PASS){
    lock.style.display="none";
    app.style.display="block";
  }
}
function checkHidden(e){
  if(e.key==="Enter" && e.target.value===HIDDEN_PASS){
    hiddenLock.style.display="none";
    mode="hidden";
    render();
  }
}

/* —Å—á—ë—Ç—á–∏–∫ */
const start=new Date(2024,7,5);
function updateCounter(){
  const diff=Date.now()-start;
  const d=Math.floor(diff/86400000);
  const h=Math.floor(diff/3600000)%24;
  document.getElementById("counter").innerText=
    `–ú—ã –≤–º–µ—Å—Ç–µ ${d} –¥–Ω–µ–π ${h} —á–∞—Å–æ–≤ üíñ`;
}
setInterval(updateCounter,1000);updateCounter();

/* –ø—Ä–∏–∑ */
if(Date.now()>new Date("2025-02-14")){
  document.getElementById("gift").style.display="inline-block";
}
function openGift(){
  alert("üéÅ –¢–≤–æ–π –ø—Ä–∏–∑ ‚Äî –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ª—é–±–æ–≤—å ‚ù§Ô∏è");
}

/* –≥–∞–ª–µ—Ä–µ—è */
let photos=JSON.parse(localStorage.photos||"[]");
function save(){localStorage.photos=JSON.stringify(photos)}

function addPhotos(e){
  for(let f of e.target.files){
    const r=new FileReader();
    r.onload=x=>{
      photos.push({
        src:x.target.result,
        text:"",
        fav:false,
        hidden:false,
        date:Date.now()
      });
      save();render();
    };
    r.readAsDataURL(f);
  }
}

function render(){
  gallery.innerHTML="";
  photos.filter(p=>{
    if(mode==="fav") return p.fav && !p.hidden;
    if(mode==="hidden") return p.hidden;
    return !p.hidden;
  }).forEach((p,i)=>{
    const d=document.createElement("div");
    d.className="photo";
    d.innerHTML=`
      <img src="${p.src}" onclick="openImg('${p.src}')">
      <textarea placeholder="–ü–æ–¥–ø–∏—Å—å..."
        oninput="photos[${i}].text=this.value;save()">${p.text}</textarea>
      <div class="actions">
        <button onclick="toggleFav(${i})">${p.fav?"‚≠ê":"‚òÜ"}</button>
        <button onclick="toggleHidden(${i})">üôà</button>
        <button onclick="removePhoto(${i})">‚úñ</button>
      </div>
    `;
    gallery.appendChild(d);
  });
}

function removePhoto(i){
  if(confirm("–£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ç–æ?")){
    photos.splice(i,1);
    save();render();
  }
}
function toggleFav(i){photos[i].fav=!photos[i].fav;save();render();}
function toggleHidden(i){photos[i].hidden=!photos[i].hidden;save();render();}
function showFav(){mode="fav";render();}
function showAll(){mode="all";render();}
function askHidden(){hiddenLock.style.display="flex";}

function openImg(src){
  const o=document.createElement("div");
  o.className="overlay";
  o.onclick=()=>o.remove();
  o.innerHTML=`<img src="${src}">`;
  document.body.appendChild(o);
}
function memory(){
  if(!photos.length) return alert("–î–æ–±–∞–≤—å —Ñ–æ—Ç–æ üíñ");
  openImg(photos[Math.floor(Math.random()*photos.length)].src);
}

render();
</script>

</body>
</html>









