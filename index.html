<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è üíñ</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
margin:0;font-family:Montserrat;
min-height:100vh;
background:linear-gradient(120deg,#ff9a9e,#fad0c4,#fbc2eb);
background-size:400% 400%;
animation:gradient 10s ease infinite;
display:flex;justify-content:center;align-items:center;
overflow-x:hidden;color:#fff
}
body.dark{background:linear-gradient(120deg,#0f2027,#203a43,#2c5364)}
@keyframes gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

.card{
width:95%;max-width:900px;
background:rgba(255,255,255,.25);
backdrop-filter:blur(16px);
border-radius:30px;padding:30px;
box-shadow:0 20px 40px rgba(0,0,0,.25);
text-align:center
}

button{cursor:pointer;border:none}
.top-btn{
position:fixed;top:20px;
width:45px;height:45px;border-radius:50%;
font-size:20px
}
#musicBtn{right:20px}
#modeBtn{left:20px}

.lock{
position:fixed;inset:0;
background:#000;display:flex;
align-items:center;justify-content:center;
z-index:9999
}
.lock input{
padding:15px;font-size:18px;
border-radius:15px;border:none
}

h1{margin-top:0}
#counter{font-size:20px;margin:10px 0}

.timeline{
margin:30px 0;text-align:left
}
.event{
margin:10px 0;padding-left:15px;
border-left:3px solid #fff
}

.gallery{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
gap:15px
}
.photo img{
width:100%;height:170px;
object-fit:cover;border-radius:15px
}

.overlay{
position:fixed;inset:0;
background:rgba(0,0,0,.9);
display:flex;align-items:center;justify-content:center;
z-index:9999
}
.overlay img{max-width:90%;max-height:90%;border-radius:20px}

.surprise{
margin:20px;padding:15px 30px;
border-radius:30px;font-size:18px;
background:#fff;color:#e75480
}

.letter{
position:fixed;inset:0;
background:rgba(0,0,0,.8);
display:flex;align-items:center;justify-content:center
}
.letter-box{
background:#fff;color:#333;
padding:30px;border-radius:25px;
width:90%;max-width:500px
}
textarea{width:100%;height:200px;border:none;font-family:Montserrat}

.heart{
position:fixed;color:rgba(255,255,255,.6);
animation:float 8s linear infinite
}
@keyframes float{
0%{transform:translateY(100vh)}
100%{transform:translateY(-10vh)}
}
</style>
</head>

<body>

<div class="lock" id="lock">
<input type="password" placeholder="–ü–∞—Ä–æ–ª—å ‚ù§Ô∏è" onkeydown="check(event)">
</div>

<button id="modeBtn" class="top-btn" onclick="toggleMode()">üåô</button>
<button id="musicBtn" class="top-btn" onclick="toggleMusic()">üéµ</button>

<div class="card" id="app" style="display:none">

<h1>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è üíï</h1>
<b>–°–∞—à–∞ ‚ù§Ô∏è –ê–¥—É—à–∫–∞</b>

<div id="counter"></div>

<div class="timeline">
<h3>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</h3>
<div class="event">üíñ 05.08.2024 ‚Äî –ú—ã –≤–º–µ—Å—Ç–µ</div>
<div class="event">üéâ 100 –¥–Ω–µ–π</div>
<div class="event">üíå –ü–µ—Ä–≤—ã–π –≥–æ–¥</div>
</div>

<button class="surprise" onclick="memory()">üïä –í–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ –¥–Ω—è</button>
<button class="surprise" id="gift" style="display:none" onclick="openLetter()">üéÅ –°—é—Ä–ø—Ä–∏–∑</button>

<input type="file" multiple accept="image/*" onchange="addPhotos(event)">
<div class="gallery" id="gallery"></div>

</div>

<audio id="music" loop>
<source src="https://cdn.pixabay.com/audio/2022/03/15/audio_7c6c8d6b5a.mp3">
</audio>

<script>
/* –ü–ê–†–û–õ–¨ */
const PASSWORD="love";
function check(e){
if(e.key==="Enter"&&e.target.value===PASSWORD){
lock.style.display="none";app.style.display="block"
}}

/* –¢–ï–ú–ê */
if(localStorage.dark)document.body.classList.add("dark");
function toggleMode(){
document.body.classList.toggle("dark");
localStorage.dark=document.body.classList.contains("dark")
}

/* –ú–£–ó–´–ö–ê */
let playing=false;
function toggleMusic(){
playing?music.pause():music.play();
playing=!playing
}

/* –°–ß–Å–¢–ß–ò–ö */
const start=new Date(2024,7,5);
function update(){
const diff=Date.now()-start;
const d=Math.floor(diff/86400000);
const h=Math.floor(diff/3600000)%24;
counter.innerText=`–ú—ã –≤–º–µ—Å—Ç–µ ${d} –¥–Ω–µ–π ${h} —á–∞—Å–æ–≤ üíñ`
}
setInterval(update,1000);update();

/* –°–Æ–†–ü–†–ò–ó */
if(Date.now()>new Date("2025-02-14"))gift.style.display="inline-block";

/* –ü–ò–°–¨–ú–û */
function openLetter(){
const l=document.createElement("div");
l.className="letter";
l.onclick=()=>l.remove();
l.innerHTML=`
<div class="letter-box">
<h2>–ú–æ—è –ª—é–±–æ–≤—å ‚ù§Ô∏è</h2>
<textarea oninput="localStorage.letter=this.value">${localStorage.letter||""}</textarea>
</div>`;
document.body.append(l)
}

/* –§–û–¢–û */
let photos=JSON.parse(localStorage.photos||"[]");
function save(){localStorage.photos=JSON.stringify(photos)}
function render(){
gallery.innerHTML="";
photos.forEach(s=>{
const d=document.createElement("div");
d.className="photo";
d.innerHTML=`<img src="${s}" onclick="openImg('${s}')">`;
gallery.append(d)
})
}
function addPhotos(e){
for(let f of e.target.files){
const r=new FileReader();
r.onload=x=>{photos.push(x.target.result);save();render()}
r.readAsDataURL(f)
}}
function openImg(s){
const o=document.createElement("div");
o.className="overlay";
o.onclick=()=>o.remove();
o.innerHTML=`<img src="${s}">`;
document.body.append(o)
}

/* –í–û–°–ü–û–ú–ò–ù–ê–ù–ò–ï */
function memory(){
if(!photos.length)return alert("–î–æ–±–∞–≤—å —Ñ–æ—Ç–æ üíñ");
openImg(photos[Math.floor(Math.random()*photos.length)])
}

/* –°–ï–†–î–¶–ê */
setInterval(()=>{
const h=document.createElement("div");
h.className="heart";h.innerText="‚ù§";
h.style.left=Math.random()*100+"vw";
h.style.fontSize=12+Math.random()*20+"px";
document.body.append(h);
setTimeout(()=>h.remove(),8000)
},500);

render();
</script>

</body>
</html>



