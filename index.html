<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Slot City</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; background: #1e1e1e; color: #fff; }
  #slot-machine { display: inline-block; margin-top: 50px; }
  .reels { display: flex; }
  .reel { border: 2px solid #fff; margin: 0 5px; padding: 10px; background: #333; }
  .symbol { font-size: 40px; margin: 5px 0; }
  button { margin-top: 20px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
  #messages { margin-top: 20px; }
</style>
</head>
<body>

<h1>Slot City</h1>
<div id="balance">–ë–∞–ª–∞–Ω—Å: 1000</div>
<div id="bet">–°—Ç–∞–≤–∫–∞: 10</div>

<div id="slot-machine">
  <div class="reels" id="reels"></div>
  <button onclick="spin()">SPIN</button>
  <div id="messages"></div>
</div>

<script>
const symbols = ['üçí', 'üçã', 'üçä', 'üçâ', '‚≠ê', 'üíé', 'üîî', 'üé∞'];
const payouts = {
  'üçí':[0,0,10,50,200],
  'üçã':[0,0,5,25,100],
  'üçä':[0,0,5,20,75],
  'üçâ':[0,0,10,40,150],
  '‚≠ê':[0,0,15,60,250],
  'üíé':[0,0,20,100,500],
  'üîî':[0,0,20,80,300],
  'üé∞':[0,0,50,200,1000]
};

const numReels = 5;
const symbolsPerReel = 3;
let balance = 1000;
let bet = 10;

const paylines = [
  [0,0,0,0,0],
  [1,1,1,1,1],
  [2,2,2,2,2],
  [0,1,2,1,0],
  [2,1,0,1,2]
];

function spinReels() {
  let reels = [];
  for (let i=0; i<numReels; i++) {
    let reel = [];
    for (let j=0; j<symbolsPerReel; j++) {
      reel.push(symbols[Math.floor(Math.random() * symbols.length)]);
    }
    reels.push(reel);
  }
  return reels;
}

function checkWins(reels) {
  let totalWin = 0;
  let wins = [];
  for (let l=0; l<paylines.length; l++) {
    let line = paylines[l];
    let lineSymbols = line.map((row,i)=> reels[i][row]);
    let first = lineSymbols[0];
    let count = 1;
    for (let i=1; i<lineSymbols.length; i++) {
      if (lineSymbols[i]===first) count++; else break;
    }
    if (count>=3) {
      let winAmount = payouts[first][count];
      totalWin += winAmount;
      wins.push({line: l+1, symbol: first, count: count, amount: winAmount});
    }
  }
  return {totalWin, wins};
}

function displayReels(reels) {
  const reelsDiv = document.getElementById('reels');
  reelsDiv.innerHTML = '';
  for (let i=0; i<numReels; i++) {
    const reelDiv = document.createElement('div');
    reelDiv.className = 'reel';
    reels[i].forEach(symbol => {
      const symDiv = document.createElement('div');
      symDiv.className = 'symbol';
      symDiv.textContent = symbol;
      reelDiv.appendChild(symDiv);
    });
    reelsDiv.appendChild(reelDiv);
  }
}

function spin() {
  if (balance < bet) {
    alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–∞–Ω—Å–∞!");
    return;
  }
  balance -= bet;
  document.getElementById('balance').textContent = `–ë–∞–ª–∞–Ω—Å: ${balance}`;
  
  const reels = spinReels();
  displayReels(reels);
  
  const result = checkWins(reels);
  let messages = '';
  if (result.totalWin>0) {
    messages += `–í—ã–∏–≥—Ä—ã—à–∏:<br>`;
    result.wins.forEach(w => {
      messages += `–õ–∏–Ω–∏—è ${w.line}: ${w.count}√ó${w.symbol} -> ${w.amount}<br>`;
    });
    messages += `<b>–ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–∏–≥—Ä—ã—à: ${result.totalWin}</b>`;
    balance += result.totalWin;
    document.getElementById('balance').textContent = `–ë–∞–ª–∞–Ω—Å: ${balance}`;
  } else {
    messages = '–ù–µ—Ç –≤—ã–∏–≥—Ä—ã—à–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.';
  }
  document.getElementById('messages').innerHTML = messages;
}
</script>

</body>
</html>












































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































