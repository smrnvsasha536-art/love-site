<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–°–∏–º—É–ª—è—Ç–æ—Ä –∑–≤–æ–Ω–∫–∞ ‚Äî –†–æ—Å—Ç–µ–ª–µ–∫–æ–º</title>

<style>
body { margin: 0; font-family: Arial, sans-serif; background: linear-gradient(135deg, #1e3c72, #2a5298); color: #fff; }
.container { max-width: 1000px; margin: auto; padding: 20px; }
h1 { text-align: center; }
.dialog { background: rgba(0,0,0,0.45); padding: 20px; border-radius: 12px; min-height: 160px; margin-bottom: 15px; }
input { width: 100%; padding: 14px; font-size: 16px; border-radius: 8px; border: none; margin-top: 10px; }
button { margin-top: 12px; padding: 12px 22px; font-size: 16px; border-radius: 10px; border: none; cursor: pointer; background: #ff9800; color: #000; }
button:hover { background: #ffc107; }
.result { margin-top: 30px; background: rgba(0,0,0,0.6); padding: 20px; border-radius: 12px; }
.good { color: #4caf50; }
.bad { color: #ff5252; }
.example { color: #ffd54f; font-style: italic; }
.voice-btn { background: #4caf50; margin-left: 10px; }
</style>
</head>

<body>
<div class="container">
<h1>–°–∏–º—É–ª—è—Ü–∏—è –∑–≤–æ–Ω–∫–∞ –†–æ—Å—Ç–µ–ª–µ–∫–æ–º</h1>

<div id="dialog" class="dialog"></div>

<input id="answer" placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞">
<button id="send">–î–∞–ª–µ–µ</button>
<button id="voice" class="voice-btn">üé§ –ì–æ–ª–æ—Å</button>

<div id="result" class="result" style="display:none;"></div>
</div>

<script>
// === –°—Ü–µ–Ω–∞—Ä–∏–π —Ç—Ä–µ–Ω–∞–∂—ë—Ä–∞ ===
const steps = [
  { 
    text: "–ö–ª–∏–µ–Ω—Ç: –ê–ª–ª–æ?", 
    concepts: [["—Ä–æ—Å—Ç–µ–ª–µ–∫–æ–º","–æ–ø–µ—Ä–∞—Ç–æ—Ä"]], 
    points:5, 
    rule:"–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ", 
    example:"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–º–ø–∞–Ω–∏–∏ –†–æ—Å—Ç–µ–ª–µ–∫–æ–º, –º–µ–Ω—è –∑–æ–≤—É—Ç –ò–≤–∞–Ω."
  },
  { 
    text: "–ö–ª–∏–µ–Ω—Ç: –ê –∫—Ç–æ –≤—ã –≤–æ–æ–±—â–µ?", 
    concepts: [["—Ä–æ—Å—Ç–µ–ª–µ–∫–æ–º","–æ–ø–µ—Ä–∞—Ç–æ—Ä","–º–µ–Ω—è –∑–æ–≤—É—Ç"]], 
    points:5, 
    rule:"–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å—Å—è –∏ –Ω–∞–∑–≤–∞—Ç—å –∫–æ–º–ø–∞–Ω–∏—é", 
    example:"–ú–µ–Ω—è –∑–æ–≤—É—Ç –ò–≤–∞–Ω, —è –æ–ø–µ—Ä–∞—Ç–æ—Ä –∫–æ–º–ø–∞–Ω–∏–∏ –†–æ—Å—Ç–µ–ª–µ–∫–æ–º."
  },
  { 
    text: "–ö–ª–∏–µ–Ω—Ç: –ú–Ω–µ —Å–µ–π—á–∞—Å –Ω–µ —É–¥–æ–±–Ω–æ —Ä–∞–∑–≥–æ–≤–∞—Ä–∏–≤–∞—Ç—å", 
    concepts: [["–Ω–µ –∑–∞–π–º–µ—Ç","–±—ã—Å—Ç—Ä–æ","–≤–∞–∂–Ω–æ"]], 
    points:5, 
    rule:"–ü—Ä–æ–≤–µ—Ä–∫–∞ —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞", 
    example:"–†–∞–∑–≥–æ–≤–æ—Ä –Ω–µ –∑–∞–π–º—ë—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –≤–∞–º –≤–∞–∂–Ω–æ —É–¥–µ–ª–∏—Ç—å 5 –º–∏–Ω—É—Ç —Å–≤–æ–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏."
  },
  { 
    text: "–ö–ª–∏–µ–Ω—Ç: –í —Å–º—ã—Å–ª–µ? –ó–∞—á–µ–º –≤—ã –∑–≤–æ–Ω–∏—Ç–µ?", 
    concepts: [["—Å—Ä–æ–∫ –¥–æ–≥–æ–≤–æ—Ä–∞","–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ","—Ç–µ–ª–µ—Ñ–æ–Ω –æ—Ç–∫–ª—é—á–∏—Ç—Å—è","–Ω–µ —Å–¥–µ–ª–∞–µ–º"]], 
    points:5, 
    rule:"–û–±—ä—è—Å–Ω–∏—Ç—å –ø—Ä–∏—á–∏–Ω—É –∑–≤–æ–Ω–∫–∞", 
    example:"–£ –≤–∞—Å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞, –µ—Å–ª–∏ –º—ã –Ω–∏—á–µ–≥–æ –Ω–µ —Å–¥–µ–ª–∞–µ–º, —Ç–µ–ª–µ—Ñ–æ–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω."
  },
  { 
    text: "–ö–ª–∏–µ–Ω—Ç: –û—Ç–∫—É–¥–∞ —É –≤–∞—Å –º–æ–π –Ω–æ–º–µ—Ä?", 
    concepts: [["–Ω–æ–º–µ—Ä –≤ —Å–∏—Å—Ç–µ–º–µ","–∫–ª–∏–µ–Ω—Ç"]], 
    points:5, 
    rule:"–û–±—ä—è—Å–Ω–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö", 
    example:"–í–∞—à –Ω–æ–º–µ—Ä —É–∫–∞–∑–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ, —Ç–∞–∫ –∫–∞–∫ –≤—ã —è–≤–ª—è–µ—Ç–µ—Å—å –Ω–∞—à–∏–º –∫–ª–∏–µ–Ω—Ç–æ–º."
  },
  { 
    text: "–í–æ–∑—Ä–∞–∂–µ–Ω–∏–µ: –Ø –Ω–∏—á–µ–≥–æ –ø–µ—Ä–µ–æ—Ñ–æ—Ä–º–ª—è—Ç—å –Ω–µ —Ö–æ—á—É", 
    concepts: [["–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ","–ª–∏–Ω–∏—è","–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è"]], 
    points:10, 
    rule:"–ù—É–∂–Ω–æ –æ–±—ä—è—Å–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –æ—Ç–∫–∞–∑–∞", 
    example:"–ï—Å–ª–∏ –º—ã –Ω–µ —Ä–µ—à–∏–º –≤–æ–ø—Ä–æ—Å —Å–µ–π—á–∞—Å, –ª–∏–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∞, –∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –ø—Ä–∏–¥—ë—Ç—Å—è –æ–ø–ª–∞—Ç–∏—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ."
  },
  { 
    text: "–í–æ–∑—Ä–∞–∂–µ–Ω–∏–µ: –Ø –Ω–µ –±—É–¥—É –≥–æ–≤–æ—Ä–∏—Ç—å —ç—Ç—É —Ñ—Ä–∞–∑—É", 
    concepts: [["–Ω–µ –º–æ–≥—É","–ø—Ä–∞–≤–æ","–≤—ã –¥–æ–ª–∂–Ω—ã"]], 
    points:10, 
    rule:"–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–µ–º", 
    example:"–ï—Å–ª–∏ –≤—ã –Ω–µ –æ–∑–≤—É—á–∏—Ç–µ —ç—Ç—É —Ñ—Ä–∞–∑—É, —è –Ω–µ –∏–º–µ—é –ø—Ä–∞–≤–∞ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ."
  },
  { 
    text: "–í–æ–∑—Ä–∞–∂–µ–Ω–∏–µ: –ö–∞–∫ —è –º–æ–≥—É —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä?", 
    concepts: [["sms","—Å–æ–æ–±—â–µ–Ω–∏–µ","–Ω–æ–º–µ—Ä –∑–∞—è–≤–∫–∏"]], 
    points:10, 
    rule:"–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SMS", 
    example:"–Ø –º–æ–≥—É –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–∞–º SMS —Å –Ω–æ–º–µ—Ä–æ–º –≤–∞—à–µ–π –∑–∞—è–≤–∫–∏. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ SMS –Ω–∏ —Å –∫–µ–º –Ω–µ –Ω—É–∂–Ω–æ –¥–µ–ª–∏—Ç—å—Å—è."
  },
  { 
    text: "–í–æ–∑—Ä–∞–∂–µ–Ω–∏–µ: –ú–Ω–µ –¥–µ—Ç–∏ –ø–æ—Ç–æ–º –ø–æ–º–æ–≥—É—Ç", 
    concepts: [["–Ω–µ–ª—å–∑—è","–ø–µ—Ä–µ–Ω–µ—Å—Ç–∏","–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞"]], 
    points:10, 
    rule:"–û–±—ä—è—Å–Ω–∏—Ç—å, –ø–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å", 
    example:"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—É –Ω–µ–ª—å–∑—è. –ï—Å–ª–∏ –Ω–µ –æ—Ñ–æ—Ä–º–∏—Ç—å —Å–µ–π—á–∞—Å, –≤–æ–∑–º–æ–∂–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ª–∏–Ω–∏–∏."
  },
  { 
    text: "–í–æ–∑—Ä–∞–∂–µ–Ω–∏–µ: –Ø –±–æ—é—Å—å –¥–∞–≤–∞—Ç—å –ø–∞—Å–ø–æ—Ä—Ç", 
    concepts: [["–ø—É–±–ª–∏—á–Ω–∞—è —á–∞—Å—Ç—å","–ø–∞—Å–ø–æ—Ä—Ç","–¥–æ–∫—É–º–µ–Ω—Ç—ã"]], 
    points:10, 
    rule:"–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä–∞—Ö–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤", 
    example:"–ü–µ—Ä–µ–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—É–±–ª–∏—á–Ω–∞—è —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏—è –ª–∏—á–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤–∞—à–∏ —Å–≤–µ–¥–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ."
  },
  { 
    text: "–ö–ª–∏–µ–Ω—Ç: –ß—Ç–æ –æ—Ç –º–µ–Ω—è —Å–µ–π—á–∞—Å —Ç—Ä–µ–±—É–µ—Ç—Å—è?", 
    concepts: [["–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å","–ø–∞—Å–ø–æ—Ä—Ç","—Å–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä"]], 
    points:5, 
    rule:"–ß—ë—Ç–∫–æ –æ–±—ä—è—Å–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥", 
    example:"–ù—É–∂–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ ‚Äî —Å–µ—Ä–∏—è –∏ –Ω–æ–º–µ—Ä –ø–∞—Å–ø–æ—Ä—Ç–∞, —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä—à–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ."
  },
  { 
    text: "–ö–ª–∏–µ–Ω—Ç: –≠—Ç–æ –≤—Å—ë?", 
    concepts: [["–¥–∞","–≤—Å—ë"]], 
    points:5, 
    rule:"–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞", 
    example:"–î–∞, —ç—Ç–æ –≤—Å—ë. –ë–æ–ª—å—à–µ –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –°–ø–∞—Å–∏–±–æ –∑–∞ –æ–±—Ä–∞—â–µ–Ω–∏–µ, —Ö–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è."
  }
];

let step=0, history=[], score=0;
const dialog=document.getElementById("dialog");
const input=document.getElementById("answer");
const send=document.getElementById("send");
const result=document.getElementById("result");
const voiceBtn=document.getElementById("voice");

showStep();

// === –ü–æ–∫–∞–∑ —à–∞–≥–∞ ===
function showStep() {
  if(step>=steps.length){analyzeDialog();return;}
  dialog.innerHTML=`<b>${steps[step].text}</b>`;
  input.value="";
  input.focus();
}

send.onclick=()=>{ 
  submitAnswer(input.value.trim());
}

// === –ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ ===
let recognition;
if('webkitSpeechRecognition' in window){
  recognition = new webkitSpeechRecognition();
  recognition.lang='ru-RU';
  recognition.interimResults=false;
  recognition.maxAlternatives=1;
  voiceBtn.onclick=()=> recognition.start();
  recognition.onresult=(event)=>{
    submitAnswer(event.results[0][0].transcript);
  }
  recognition.onerror=(event)=> alert('–û—à–∏–±–∫–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è: ' + event.error);
}else{
  voiceBtn.disabled=true;
  voiceBtn.textContent='üé§ –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è';
}

// === –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ ===
function submitAnswer(answer){
  if(!answer) return;
  history.push({question:steps[step].text, answer:answer, stepData:steps[step]});
  step++; showStep();
}

// === –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ ===
function checkConcepts(answer, concepts){
  const ans = answer.toLowerCase();
  // –í—Å–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º
  return concepts.every(group=>group.some(word=>ans.includes(word)));
}

// === –†–∞–∑–±–æ—Ä –¥–∏–∞–ª–æ–≥–∞ ===
function analyzeDialog(){
  dialog.style.display="none";
  input.style.display="none";
  send.style.display="none";
  voiceBtn.style.display="none";

  let html=`<h2>–ò—Ç–æ–≥–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ –∏ –ø–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä</h2><hr>`;

  history.forEach(h=>{
    const success = checkConcepts(h.answer, h.stepData.concepts);
    if(success) score+=h.stepData.points;

    html+=`
      <p><b>${h.question}</b></p>
      <p class="${success?'good':'bad'}">
      ${h.answer}<br>
      <i>${success
        ? '‚úî –í–µ—Ä–Ω–æ. –°—É—Ç—å –¥–æ–Ω–µ—Å–µ–Ω–∞.'
        : `‚úñ –û—à–∏–±–∫–∞: ${h.stepData.rule}<br>
           <b>–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:</b> <span class="example">${h.stepData.example}</span>`}
      </i>
      </p><hr>`;
  });

  html=`<h2>–û–±—â–∏–π –±–∞–ª–ª: ${score}</h2>`+html;
  result.innerHTML=html;
  result.style.display="block";
}
</script>
</body>
</html>




































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































