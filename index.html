<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è ‚ù§Ô∏è</title>

  <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Pacifico&family=Roboto&display=swap" rel="stylesheet">

  <style>
    *{box-sizing:border-box}

    :root{
      --brightness:1;
      --fontSize:16px;
      --bgColor:#ffffff;
      --fontFamily:'Montserrat',sans-serif;
      --textColor:#000000;
      --btnColor:#ff8fa3;
      --photoShadow:0 6px 18px rgba(0,0,0,.25);
      --photoSize:1;
      --photoBgColor:#fff;
    }

    /* ===== BODY ===== */
    body{
      margin:0;
      min-height:100vh;
      font-family:var(--fontFamily);
      font-size:var(--fontSize);
      color:var(--textColor);
      background-color:var(--bgColor);
      background-image:
        linear-gradient(#e5e5e5 1px,transparent 1px),
        linear-gradient(90deg,#e5e5e5 1px,transparent 1px);
      background-size:24px 24px;
      padding:80px 20px 40px 70px;
      overflow:hidden;
      filter:brightness(var(--brightness));
    }

    /* ===== SVG HEARTS ===== */
    .heart{
      position:absolute;
      bottom:-60px;
      animation:fly linear infinite;
      pointer-events:none;
    }

    @keyframes fly{
      from{transform:translateY(0) scale(var(--s));opacity:0}
      10%{opacity:1}
      to{transform:translateY(-120vh) scale(var(--s));opacity:0}
    }

    /* ===== LOCK ===== */
    .lock{
      position:fixed;
      inset:0;
      background:#000;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:5000;
    }

    .lock input{
      padding:15px 20px;
      font-size:18px;
      border-radius:14px;
      border:none;
    }

    /* ===== MENU ===== */
    .menu-btn{
      position:fixed;
      top:15px;
      left:15px;
      font-size:28px;
      background:none;
      border:none;
      cursor:pointer;
      z-index:4000;
    }

    .menu{
      position:fixed;
      top:0;
      left:-300px;
      width:300px;
      height:100%;
      background:#fff;
      box-shadow:4px 0 25px rgba(0,0,0,.3);
      padding:20px;
      transition:left .3s;
      z-index:3999;
      overflow-y:auto;
    }

    .menu.open{left:0}
    .menu label{display:block;margin-top:10px;font-size:14px}
    .menu input,.menu select{width:100%}

    .menu button{
      margin-top:10px;
      width:100%;
      padding:8px;
      background:var(--btnColor);
      border:none;
      border-radius:8px;
      cursor:pointer;
    }

    /* ===== APP ===== */
    .app{
      max-width:900px;
      margin:auto;
      background:#fff;
      border-radius:18px;
      padding:30px;
      box-shadow:0 15px 30px rgba(0,0,0,.15);
      position:relative;
      z-index:2;
      display:none;
    }

    .header{
      font-family:Pacifico;
      font-size:30px;
      text-align:center;
    }

    /* ===== GALLERY ===== */
    .gallery{
      display:grid;
      grid-template-columns:repeat(4,1fr);
      gap:18px;
      margin-top:20px;
    }

    .photo{
      background:var(--photoBgColor);
      padding:8px;
      border-radius:6px;
      box-shadow:var(--photoShadow);
      transform:scale(var(--photoSize));
    }

    .photo img{
      width:100%;
      aspect-ratio:1/1;
      object-fit:cover;
      cursor:pointer;
    }

    .photo textarea{
      width:100%;
      border:none;
      resize:none;
      font-size:12px;
      background:transparent;
    }

    .actions{
      display:flex;
      justify-content:space-between;
    }

    /* ===== OVERLAY ===== */
    .overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.9);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:6000;
    }

    .overlay img{
      max-width:90%;
      max-height:90%;
    }
  </style>
</head>

<body>

<div class="lock" id="lock">
  <input type="password" placeholder="–ü–∞—Ä–æ–ª—å ‚ù§Ô∏è" onkeydown="checkPass(event)">
</div>

<button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>

<div class="menu" id="menu">
  <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>

  <label>–Ø—Ä–∫–æ—Å—Ç—å</label>
  <input type="range" min="0.5" max="1" step="0.05" oninput="setBrightness(this.value)">

  <label>–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞</label>
  <input type="range" min="14" max="22" oninput="setFont(this.value)">

  <label>–¶–≤–µ—Ç –ª–∏—Å—Ç–∞</label>
  <input type="color" oninput="setBg(this.value)">

  <label>–®—Ä–∏—Ñ—Ç</label>
  <select onchange="setFontFamily(this.value)">
    <option value="'Montserrat',sans-serif">Montserrat</option>
    <option value="'Roboto',sans-serif">Roboto</option>
    <option value="'Pacifico',cursive">Pacifico</option>
  </select>

  <label>–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞</label>
  <input type="color" oninput="setTextColor(this.value)">

  <label>–¶–≤–µ—Ç –∫–Ω–æ–ø–æ–∫</label>
  <input type="color" oninput="setBtnColor(this.value)">

  <label>–¶–≤–µ—Ç —Ñ–æ–Ω–∞ —Ñ–æ—Ç–æ</label>
  <input type="color" oninput="setPhotoBgColor(this.value)">

  <label>–†–∞–∑–º–µ—Ä —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</label>
  <input type="range" min="0.5" max="1.5" step="0.05" oninput="setPhotoSize(this.value)">

  <label>–¢–µ–Ω—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π</label>
  <input type="color" oninput="setPhotoShadow(this.value)">

  <label>–°–∫—Ä—ã—Ç—ã–µ —Ñ–æ—Ç–æ</label>
  <button onclick="toggleHidden()">üîê –°–∫—Ä—ã—Ç—ã–µ —Ñ–æ—Ç–æ</button>
</div>

<div class="app" id="app">
  <div class="header">–ê–¥–µ–ª–∞–∏–¥–∞ + –°–∞—à–∞ = –≤–µ—á–Ω–æ—Å—Ç—å ‚ù§Ô∏è</div>
  <div id="counter"></div>

  <input type="file" multiple accept="image/*" onchange="addPhotos(event)">
  <div class="gallery" id="gallery"></div>
</div>

<script>
const PASS="love";
const lock=document.getElementById("lock");
const app=document.getElementById("app");
const menu=document.getElementById("menu");
const gallery=document.getElementById("gallery");
const counter=document.getElementById("counter");

function checkPass(e){
  if(e.key==="Enter"&&e.target.value===PASS){
    lock.remove();
    app.style.display="block";
  }
}

function toggleMenu(){menu.classList.toggle("open")}

/* SETTINGS */
function setBrightness(v){document.documentElement.style.setProperty("--brightness",v)}
function setFont(v){document.documentElement.style.setProperty("--fontSize",v+"px")}
function setBg(v){document.documentElement.style.setProperty("--bgColor",v)}
function setFontFamily(v){document.documentElement.style.setProperty("--fontFamily",v)}
function setTextColor(v){document.documentElement.style.setProperty("--textColor",v)}
function setBtnColor(v){document.documentElement.style.setProperty("--btnColor",v)}
function setPhotoBgColor(v){document.documentElement.style.setProperty("--photoBgColor",v)}
function setPhotoSize(v){document.documentElement.style.setProperty("--photoSize",v)}
function setPhotoShadow(v){
  document.documentElement.style.setProperty("--photoShadow",`0 6px 18px ${v}80`)
}

/* COUNTER */
const start=new Date(2024,7,5);
setInterval(()=>{
  counter.innerText=`–ú—ã –≤–º–µ—Å—Ç–µ ${Math.floor((Date.now()-start)/86400000)} –¥–Ω–µ–π ‚ù§Ô∏è`;
},1000);

/* PHOTOS */
let photos=JSON.parse(localStorage.photos||"[]");
let showHidden=false;

function save(){localStorage.photos=JSON.stringify(photos)}

function addPhotos(e){
  for(let f of e.target.files){
    const r=new FileReader();
    r.onload=x=>{ 
      photos.push({src:x.target.result,text:"",hidden:false});
      save();render();
    };
    r.readAsDataURL(f);
  }
}

function toggleHidden(){showHidden=!showHidden;render()}

function render(){
  gallery.innerHTML="";
  photos.filter(p=>showHidden||!p.hidden).forEach((p,i)=>{
    const d=document.createElement("div");
    d.className="photo";
    d.innerHTML=`
      <img src="${p.src}" onclick="openImg('${p.src}')">
      <textarea oninput="photos[${i}].text=this.value;save()">${p.text}</textarea>
      <div class="actions">
        <button onclick="photos[${i}].hidden=!photos[${i}].hidden;save();render()">üôà</button>
        <button onclick="photos.splice(${i},1);save();render()">‚úñ</button>
      </div>
    `;
    gallery.appendChild(d);
  });
}

function openImg(src){
  const o=document.createElement("div");
  o.className="overlay";
  o.onclick=()=>o.remove();
  o.innerHTML=`<img src="${src}">`;
  document.body.appendChild(o);
}

render();

/* SVG HEARTS */
const HEART=`<svg viewBox="0 0 32 29.6" width="100%" height="100%">
<path fill="#ff4d6d"
d="M23.6,0c-3.4,0-6.4,2.1-7.6,5.1C14.8,2.1,11.8,0,8.4,0
C3.8,0,0,3.8,0,8.4c0,9.4,16,21.2,16,21.2s16-11.8,16-21.2
C32,3.8,28.2,0,23.6,0z"/>
</svg>`;

function spawnHeart(){
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML=HEART;
  const size=20+Math.random()*30;
  const dur=5+Math.random()*5;
  h.style.width=size+"px";
  h.style.height=size+"px";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=dur+"s";
  h.style.setProperty("--s",0.8+Math.random()*0.6);
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),dur*1000);
}

setInterval(spawnHeart,400);
</script>

</body>
</html>


































































