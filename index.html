<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üé∞ Slot 5x3 Ultimate MAX</title>

<style>
body{
  margin:0;
  background:radial-gradient(circle,#111,#000);
  font-family:Arial,sans-serif;
  color:#fff;
  text-align:center;
}
.container{max-width:520px;margin:auto;padding:10px;}
.slots{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  grid-template-rows:repeat(3,90px);
  gap:8px;
  margin:15px 0;
  padding:10px;
  background:rgba(0,0,0,.6);
  border-radius:16px;
}
.slot{
  background:linear-gradient(145deg,#555,#222);
  border-radius:16px;
  font-size:36px;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:inset 0 0 10px #000;
}
.slot.animate{animation:fall .6s;}
.slot.win{animation:pulse .8s infinite alternate;}
@keyframes fall{
  from{transform:translateY(-200%);opacity:0}
  to{transform:translateY(0);opacity:1}
}
@keyframes pulse{
  from{transform:scale(1)}
  to{transform:scale(1.2)}
}
button{
  padding:12px 22px;
  border:none;
  border-radius:14px;
  background:linear-gradient(145deg,#e74c3c,#c0392b);
  color:#fff;
  font-size:16px;
  cursor:pointer;
}
.history{font-size:12px;opacity:.7;margin-top:6px;}
</style>
</head>

<body>
<div class="container">
<h2>üé∞ Slot 5x3 Ultimate MAX</h2>

<div>–ë–∞–ª–∞–Ω—Å: <b id="balance">50000</b></div>
<div>Free Spins: <b id="fs">0</b></div>

<div>
–°—Ç–∞–≤–∫–∞:
<input type="number" id="bet" value="10" min="1" max="1000">
–õ–∏–Ω–∏–∏:
<select id="lines">
<option>1</option><option>2</option><option>3</option>
<option>4</option><option>5</option>
</select>
</div>

<div class="slots" id="slots"></div>
<button onclick="spin()">SPIN</button>

<div id="result"></div>
<div class="history" id="history"></div>
<small>‚≠ê Scatter = FS | üß≤ Wild | $ = FS –±–æ–Ω—É—Å</small>
</div>

<script>
/* ===== STATE ===== */
let balance = 50000;
let freeSpins = 0;
let totalBets = 0;
let totalWins = 0;
let history = [];

/* ===== SYMBOLS ===== */
const symbols = [
 {s:'üçí', w:30, pay:5},
 {s:'üçã', w:30, pay:4},
 {s:'üçâ', w:25, pay:4},
 {s:'7Ô∏è‚É£', w:8,  pay:20},
 {s:'‚≠ê', w:4,  scatter:true},
 {s:'üß≤', w:6,  wild:true},
 {s:'$',  w:3,  fs:true}
];

/* ===== LINES ===== */
const linesArr = [
 [[0,0],[0,1],[0,2],[0,3],[0,4]],
 [[1,0],[1,1],[1,2],[1,3],[1,4]],
 [[2,0],[2,1],[2,2],[2,3],[2,4]],
 [[0,0],[1,1],[2,2],[1,3],[0,4]],
 [[2,0],[1,1],[0,2],[1,3],[2,4]]
];

/* ===== GRID ===== */
const slotsEl = document.getElementById('slots');
const grid=[];
for(let r=0;r<3;r++){
 grid[r]=[];
 for(let c=0;c<5;c++){
   const d=document.createElement('div');
   d.className='slot';
   d.textContent='‚ùî';
   slotsEl.appendChild(d);
   grid[r][c]=d;
 }
}

/* ===== HELPERS ===== */
function randSymbol(){
 let pool=[];
 symbols.forEach(s=>{
  for(let i=0;i<s.w;i++) pool.push(s);
 });
 return pool[Math.floor(Math.random()*pool.length)];
}

function updateUI(){
 document.getElementById('balance').textContent=balance;
 document.getElementById('fs').textContent=freeSpins;
 const rtp = totalBets ? Math.round((totalWins/totalBets)*100) : 0;
 document.getElementById('history').innerHTML =
  `–ò—Å—Ç–æ—Ä–∏—è: ${history.join(', ')}<br>RTP: ${rtp}%`;
}

/* ===== CHECK LINE ===== */
function checkLine(line, bet){
 let base=null, count=0;
 for(let i=0;i<line.length;i++){
  const sym=grid[line[i][0]][line[i][1]].textContent;
  if(sym==='‚≠ê'||sym==='$') break;
  if(!base && sym!=='üß≤') base=sym;
  if(sym===base || sym==='üß≤') count++;
  else break;
 }
 if(count>=3 && base){
  const obj=symbols.find(s=>s.s===base);
  return bet*obj.pay*count;
 }
 return 0;
}

/* ===== SPIN ===== */
function spin(auto=false){
 const bet=Math.max(1,+document.getElementById('bet').value);
 const lines=+document.getElementById('lines').value;
 const cost=bet*lines;

 if(freeSpins<=0 && !auto){
  if(balance<cost){document.getElementById('result').textContent='‚ùå –ù–µ—Ç –¥–µ–Ω–µ–≥';return;}
  balance-=cost; totalBets+=cost;
 } else freeSpins--;

 for(let c=0;c<5;c++){
  for(let r=0;r<3;r++){
   const sym=randSymbol();
   grid[r][c].textContent=sym.s;
   grid[r][c].classList.add('animate');
   setTimeout(()=>grid[r][c].classList.remove('animate'),600);
  }
 }

 setTimeout(()=>{
  let win=0;
  for(let i=0;i<lines;i++) win+=checkLine(linesArr[i],bet);

  let scat=0,dol=0;
  grid.flat().forEach(c=>{
   if(c.textContent==='‚≠ê') scat++;
   if(c.textContent==='$') dol++;
  });

  if(scat>=3) freeSpins += scat===3?5:scat===4?10:15;
  if(dol>=3) freeSpins += 5;

  if(win>0){
   balance+=win; totalWins+=win;
   history.unshift(win);
   document.getElementById('result').textContent=`üéâ –í—ã–∏–≥—Ä—ã—à ${win}`;
  } else {
   history.unshift(0);
   document.getElementById('result').textContent='üòû –ü—Ä–æ–∏–≥—Ä—ã—à';
  }

  history=history.slice(0,20);
  updateUI();
  if(freeSpins>0) setTimeout(()=>spin(true),700);
 },900);
}

updateUI();
</script>
</body>
</html>























































































































































































































































