<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Slot 5x3 Ultimate</title>

<style>
body {
    background:#222;
    color:white;
    font-family:Arial;
    text-align:center;
    margin:0;
    padding:10px;
}
.container {
    max-width:520px;
    margin:auto;
    background:#333;
    padding:15px;
    border-radius:15px;
}
.slots {
    display:grid;
    grid-template-columns:repeat(5,1fr);
    grid-template-rows:repeat(3,80px);
    gap:8px;
    margin:15px 0;
}
.slot {
    background:#444;
    border-radius:10px;
    font-size:26px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:.15s;
}
.spin{ transform:scale(1.1); }
.win{
    box-shadow:0 0 10px gold;
    border:2px solid gold;
}
.mult{ color:#ffd700; font-weight:bold; }
.controls{ display:flex; flex-wrap:wrap; gap:8px; justify-content:center; }
button,input,select{
    padding:10px;
    font-size:16px;
    border-radius:8px;
    border:none;
}
button{
    background:#ff6347;
    color:#fff;
    cursor:pointer;
}
button:hover{ background:#ff4500; }
.won{ color:lime; }
.lost{ color:red; }

.bonus {
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.85);
    display:none;
    align-items:center;
    justify-content:center;
}
.bonus-box {
    background:#333;
    padding:20px;
    border-radius:15px;
    width:300px;
}
.red { background:#c0392b; }
.black { background:#000; }

@media(max-width:480px){
    .slot{ font-size:22px; }
}
</style>
</head>

<body>

<h2>üé∞ Slot 5x3 Ultimate</h2>

<div class="container">
    <div>–ë–∞–ª–∞–Ω—Å: <b><span id="balance">15000</span></b></div>

    <div class="slots" id="slots"></div>

    <div class="controls">
        <input type="number" id="bet" value="10" min="1">
        <select id="lines">
            <option value="1">1 –ª–∏–Ω–∏—è</option>
            <option value="3">3 –ª–∏–Ω–∏–∏</option>
            <option value="5">5 –ª–∏–Ω–∏–π</option>
        </select>
    </div>

    <div class="controls">
        <button onclick="spin()">SPIN</button>
        <button onclick="toggleAuto()" id="autoBtn">AUTOSPIN</button>
    </div>

    <div id="result" style="margin-top:10px;font-size:18px;"></div>
</div>

<!-- BONUS X2 -->
<div class="bonus" id="bonus">
    <div class="bonus-box">
        <h3>üî• –ë–û–ù–£–° X2</h3>
        <p>–í—ã–±–µ—Ä–∏ —Ü–≤–µ—Ç</p>
        <button class="red" onclick="pickColor('red')">üî¥ –ö—Ä–∞—Å–Ω–æ–µ</button>
        <button class="black" onclick="pickColor('black')">‚ö´ –ß—ë—Ä–Ω–æ–µ</button>
    </div>
</div>

<script>
// === –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ===
let balance = 15000;
let auto = false, autoInt;
let bonusAmount = 0;

// –±–∞–∑–æ–≤—ã–µ —Å–º–∞–π–ª—ã –∏ –º–Ω–æ–∂–∏—Ç–µ–ª–∏
const baseSymbols = ['üçí','üçã','üçä','üçâ','üçÄ'];
const multipliers = [
    {t:'x2',v:2},{t:'x5',v:5},{t:'x10',v:10},{t:'x100',v:100}
];

// –ª–∏–Ω–∏–∏
const paylines = [
    [[1,0],[1,1],[1,2],[1,3],[1,4]],
    [[0,0],[0,1],[0,2],[0,3],[0,4]],
    [[2,0],[2,1],[2,2],[2,3],[2,4]],
    [[0,0],[1,1],[2,2],[1,3],[0,4]],
    [[2,0],[1,1],[0,2],[1,3],[2,4]]
];

const slotsEl = document.getElementById('slots');
const balanceEl = document.getElementById('balance');
const resultEl = document.getElementById('result');
const bonusEl = document.getElementById('bonus');

let grid=[], matrix=[];

// —Å–æ–∑–¥–∞—ë–º –ø–æ–ª–µ
for(let r=0;r<3;r++){
    grid[r]=[];
    for(let c=0;c<5;c++){
        const d=document.createElement('div');
        d.className='slot';
        d.textContent='‚ùî';
        slotsEl.appendChild(d);
        grid[r][c]=d;
    }
}

// –æ—á–∏—Å—Ç–∫–∞
function clearWin(){
    grid.flat().forEach(s=>s.classList.remove('win','spin'));
}

// === –°–ü–ò–ù ===
function spin(){
    const bet = +betInput.value;
    const lines = +linesInput.value;
    const total = bet*lines;
    if(total>balance) return;

    balance-=total;
    balanceEl.textContent=balance;
    resultEl.textContent='';
    clearWin();

    let step=0;

    const anim = setInterval(()=>{
        // —Å–∫–æ–ª—å–∫–æ –º–Ω–æ–∂–∏—Ç–µ–ª–µ–π (0-3)
        let multCount = Math.floor(Math.random()*4);
        let positions=[];
        for(let r=0;r<3;r++){
            for(let c=0;c<5;c++){
                positions.push([r,c]);
            }
        }
        positions.sort(()=>Math.random()-0.5);
        const multPos = positions.slice(0,multCount);

        matrix=[[],[],[]];

        for(let r=0;r<3;r++){
            for(let c=0;c<5;c++){
                let symbol;
                if(multPos.some(p=>p[0]===r && p[1]===c)){
                    symbol = multipliers[Math.floor(Math.random()*multipliers.length)];
                }else{
                    symbol = {t: baseSymbols[Math.floor(Math.random()*baseSymbols.length)], v:1};
                }
                matrix[r][c]=symbol;
                grid[r][c].innerHTML = symbol.v>1 ? `<span class="mult">${symbol.t}</span>` : symbol.t;
                grid[r][c].classList.add('spin');
            }
        }

        if(++step>6){
            clearInterval(anim);
            clearWin();
            bonusAmount = calcWin(bet,lines);
            if(bonusAmount>0 && matrix.flat().filter(s=>s.t==='üçÄ').length>=3){
                openBonus();
            }
        }
    },100);
}

// === –í–´–ò–ì–†–´–® ===
function calcWin(bet,lines){
    let win=0;

    for(let i=0;i<lines;i++){
        const line = paylines[i];
        let symbol=null,count=0,mult=1;

        for(let p of line){
            const s = matrix[p[0]][p[1]];
            if(s.v>1){ mult*=s.v; grid[p[0]][p[1]].classList.add('win'); continue; }
            if(!symbol){ symbol=s.t; count=1; grid[p[0]][p[1]].classList.add('win'); }
            else if(s.t===symbol){ count++; grid[p[0]][p[1]].classList.add('win'); }
        }
        if(count>=3) win += bet*count*mult;
    }

    balance+=win;
    balanceEl.textContent=balance;
    resultEl.innerHTML = win ? `<span class="won">üéâ –í—ã–∏–≥—Ä—ã—à: ${win}</span>` : `<span class="lost">üòû –ü—Ä–æ–∏–≥—Ä—ã—à</span>`;
    return win;
}

// === –ë–û–ù–£–° X2 ===
function openBonus(){
    bonusEl.style.display='flex';
    auto=false;
    clearInterval(autoInt);
    autoBtn.textContent='AUTOSPIN';
}

function pickColor(choice){
    const result = Math.random()<0.5?'red':'black';
    if(choice===result){
        balance+=bonusAmount;
        resultEl.innerHTML = `üî• –ë–û–ù–£–° X2! +${bonusAmount}`;
    } else {
        resultEl.innerHTML = 'üí• –ë–æ–Ω—É—Å –ø—Ä–æ–∏–≥—Ä–∞–Ω';
    }
    balanceEl.textContent=balance;
    bonusEl.style.display='none';
}

// === AUTOSPIN ===
function toggleAuto(){
    auto=!auto;
    autoBtn.textContent=auto?'STOP':'AUTOSPIN';
    auto ? autoInt=setInterval(()=>balance>0&&spin(),1200) : clearInterval(autoInt);
}

const betInput=document.getElementById('bet');
const linesInput=document.getElementById('lines');
const autoBtn=document.getElementById('autoBtn');
</script>

</body>
</html>






















































































































