<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üé∞ Slot 5x3 Ultimate MAX Jackpot</title>
<style>
body{margin:0;background:radial-gradient(circle,#111,#000);font-family:Arial,sans-serif;color:#fff;text-align:center;}
.container{max-width:520px;margin:auto;padding:10px;}
.slots{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(3,80px);gap:6px;margin:15px 0;}
.slot{background:linear-gradient(#444,#222);border-radius:14px;font-size:32px;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 0 10px #000;transition:transform .15s;}
.spin-anim{animation:spin .3s linear infinite;}
@keyframes spin{0%{transform:translateY(-20px)}100%{transform:translateY(20px)}}
button{padding:12px 20px;border:none;border-radius:12px;font-size:16px;background:#e74c3c;color:#fff;margin:5px;cursor:pointer;}
.result{min-height:26px;margin-top:8px;position:relative;}
.history{font-size:12px;opacity:.7;margin-top:6px;text-align:left;max-height:80px;overflow:auto;}
.chest{display:inline-block;width:80px;height:80px;background:#aa8800;margin:6px;border-radius:10px;line-height:80px;font-size:32px;cursor:pointer;}
.bonus-controls button{margin:5px;background:#27ae60;}
select{padding:6px;margin:5px;border-radius:6px;}
.buy-buttons button{background:#3498db;}
.counters{margin:5px;font-size:14px;}

/* ===== –ê–Ω–∏–º–∞—Ü–∏–∏ Mega –≤—ã–∏–≥—Ä—ã—à–µ–π ===== */
@keyframes winMega {0%{transform:scale(0.5);opacity:0;color:#e74c3c;text-shadow:0 0 10px #fff}50%{transform:scale(2);opacity:1}100%{transform:scale(1.5);opacity:1}}
.win-anim{position:absolute;left:50%;top:20%;transform:translateX(-50%);font-size:32px;font-weight:bold;pointer-events:none;z-index:999;}
</style>
</head>
<body>

<div class="container">
  <h2>üé∞ Slot 5x3 Ultimate MAX Jackpot</h2>
  <div>–ë–∞–ª–∞–Ω—Å: <b id="balance">50000</b></div>
  <div class="counters">Free Spins: <b id="fsCount">0</b> | –ë–æ–Ω—É—Å—ã: <b id="bonusCount">0</b></div>

  <div>
    –°—Ç–∞–≤–∫–∞: <select id="betSelect"></select>
    –õ–∏–Ω–∏–∏: <select id="linesSelect"></select>
  </div>

  <div class="buy-buttons">
    <button onclick="buyBonusFS(1)">–ö—É–ø–∏—Ç—å 1 Free Spin (100)</button>
    <button onclick="buyBonusFS(5)">–ö—É–ø–∏—Ç—å 5 Free Spins (450)</button>
    <button onclick="buyBonusChest()">–ö—É–ø–∏—Ç—å –±–æ–Ω—É—Å —Å—É–Ω–¥—É–∫–∞ (200)</button>
  </div>

  <div class="slots" id="slots"></div>
  <button onclick="spin()">SPIN</button>
  <div class="result" id="result"></div>
  <small>Scatter ‚≠ê = 5 FS | Wild üß≤</small>
  <div class="history" id="history"></div>
  <div id="bonusArea"></div>
</div>

<script>
// ===== –ù–∞—Å—Ç—Ä–æ–π–∫–∏ =====
let balance = 50000, freeSpins = 0, bonusGames = 0, totalBets = 0, totalWins = 0;
const history = [];

// ===== –°–∏–º–≤–æ–ª—ã: –æ–±—ã—á–Ω—ã–µ —á–∞—Å—Ç—ã–µ, Mega —Ä–µ–¥–∫–∏–π =====
const symbols = [
  {s:'üçí', w:80, pay:{3:0,4:0,5:0}}, // –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–∏–≥—Ä—ã—à
  {s:'üçã', w:70, pay:{3:0,4:0,5:0}},
  {s:'üçâ', w:60, pay:{3:0,4:0,5:0}},
  {s:'7Ô∏è‚É£', w:5, pay:{3:0,4:0,5:0}}, // –±—É–¥–µ–º –¥–∞–≤–∞—Ç—å –¥–∂–µ–∫–ø–æ—Ç –≤—Ä—É—á–Ω—É—é
  {s:'‚≠ê',  w:15, scatter:true},
  {s:'üß≤', w:20, pay:{3:0,4:0,5:0}, wild:true}
];

const linesArr = [
  [[0,0],[0,1],[0,2],[0,3],[0,4]],
  [[1,0],[1,1],[1,2],[1,3],[1,4]],
  [[2,0],[2,1],[2,2],[2,3],[2,4]],
  [[0,0],[1,1],[2,2],[1,3],[0,4]],
  [[2,0],[1,1],[0,2],[1,3],[2,4]]
];

const betOptions = [10,20,50,100,200];
const linesOptions = [1,2,3,4,5];

// ===== DOM =====
const slotsEl = document.getElementById('slots');
const balanceEl = document.getElementById('balance');
const fsEl = document.getElementById('fsCount');
const bonusElCount = document.getElementById('bonusCount');
const resultEl = document.getElementById('result');
const historyEl = document.getElementById('history');
const bonusEl = document.getElementById('bonusArea');
const betSelect = document.getElementById('betSelect');
const linesSelect = document.getElementById('linesSelect');

// ===== –ü–æ–ª–µ =====
let grid = [];
for(let r=0;r<3;r++){
  grid[r] = [];
  for(let c=0;c<5;c++){
    let d = document.createElement('div');
    d.className = 'slot';
    d.textContent = '‚ùî';
    slotsEl.appendChild(d);
    grid[r][c] = d;
  }
}

// ===== –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ =====
function updateBetLinesOptions(){
  const selectedBet = betSelect.value;
  const selectedLines = linesSelect.value;
  betSelect.innerHTML = '';
  linesSelect.innerHTML = '';
  betOptions.forEach(b=>{
    let o = document.createElement('option'); o.value=b; o.textContent=b;
    betSelect.appendChild(o);
  });
  linesOptions.forEach(l=>{
    let o = document.createElement('option'); o.value=l; o.textContent=l;
    linesSelect.appendChild(o);
  });
  betSelect.value = betOptions.includes(Number(selectedBet)) ? selectedBet : betOptions[0];
  linesSelect.value = linesOptions.includes(Number(selectedLines)) ? selectedLines : linesOptions[0];
}

// ===== RNG =====
function randSymbol(){
  let pool = [];
  symbols.forEach(o=>{for(let i=0;i<o.w;i++) pool.push(o);});
  return pool[Math.floor(Math.random()*pool.length)];
}

// ===== –ó–≤—É–∫–∏ / –≤–∏–±—Ä–∞—Ü–∏—è =====
function playSound(url){let a=new Audio(url); a.play();}
function vibrate(ms){if(navigator.vibrate) navigator.vibrate(ms);}

// ===== –ê–Ω–∏–º–∞—Ü–∏—è Mega –≤—ã–∏–≥—Ä—ã—à–∞ =====
function showWinAnimation(amount){
  if(amount>=5000){ 
    const div = document.createElement('div');
    div.className='win-anim';
    div.textContent=`üöÄ JACKPOT ${amount}!`;
    div.style.animation='winMega 1s forwards';
    document.body.appendChild(div);
    setTimeout(()=>div.remove(),1500);
  }
}

// ===== SPIN =====
function spin(){
  let bet = parseInt(betSelect.value);
  let linesNum = parseInt(linesSelect.value);
  let cost = bet*linesNum;
  if(freeSpins<=0 && bonusGames<=0 && cost>balance){ resultEl.textContent='‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤'; return; }

  if(freeSpins>0){ freeSpins--; fsEl.textContent=freeSpins; } 
  else if(bonusGames>0){ bonusGames--; bonusElCount.textContent=bonusGames; triggerMegaBonus(); return; }
  else { balance -= cost; totalBets += cost; }

  grid.flat().forEach(s=>s.classList.add('spin-anim'));
  playSound('https://freesound.org/data/previews/414/414209_5121236-lq.mp3');
  vibrate(100);

  setTimeout(()=>{
    grid.flat().forEach(s=>s.classList.remove('spin-anim'));
    let matrix=[[],[],[]]; let scatters=0;

    for(let r=0;r<3;r++){
      for(let c=0;c<5;c++){
        let sym=randSymbol();
        matrix[r][c]=sym;
        grid[r][c].textContent=sym.s;
        if(sym.scatter) scatters++;
      }
    }

    // ===== –†–µ–¥–∫–∏–π –¥–∂–µ–∫–ø–æ—Ç —Ä–∞–∑ –≤ 5-10 —Å–ø–∏–Ω–æ–≤ =====
    let totalWin=0;
    if(Math.random() < 0.12){ // –ø—Ä–∏–º–µ—Ä–Ω–æ 1/8 —Å–ø–∏–Ω–æ–≤
      totalWin = Math.floor(Math.random()*15000)+5000; // 5000-20000
    }

    if(totalWin>0){
      balance += totalWin; totalWins += totalWin;
      resultEl.textContent='üéâ –í–´–ò–ì–†–´–®: '+totalWin;
      playSound('https://freesound.org/data/previews/235/235968_3981044-lq.mp3');
      vibrate(300);
      showWinAnimation(totalWin);
    } else resultEl.textContent='üòû –ü—Ä–æ–∏–≥—Ä—ã—à';

    balanceEl.textContent = balance;
    updateHistory(totalWin);
    updateBetLinesOptions();
  },600);
}

// ===== –ò—Å—Ç–æ—Ä–∏—è + RTP =====
function updateHistory(win){
  history.unshift(win);
  if(history.length>20) history.pop();
  let rtp = Math.round((totalWins/(totalBets||1))*100);
  historyEl.innerHTML = '–ò—Å—Ç–æ—Ä–∏—è: '+history.join(', ')+'<br>RTP: '+rtp+'%';
}

// ===== Free Spins =====
function buyBonusFS(amount){
  let price = amount===5?450:100;
  if(balance<price){ alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!'); return; }
  balance -= price;
  freeSpins += amount;
  fsEl.textContent = freeSpins;
  balanceEl.textContent = balance;
  resultEl.textContent = `–í—ã –∫—É–ø–∏–ª–∏ ${amount} Free Spins!`;
  updateBetLinesOptions();
}

// ===== –ë–æ–Ω—É—Å–Ω—ã–µ —Å—É–Ω–¥—É–∫–∏ =====
function buyBonusChest(){
  let price = 200;
  if(balance<price){ alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!'); return; }
  balance -= price;
  bonusGames +=1;
  bonusElCount.textContent = bonusGames;
  balanceEl.textContent = balance;
  triggerMegaBonus();
  updateBetLinesOptions();
}

// ===== –ú–µ–≥–∞-–±–æ–Ω—É—Å =====
function triggerMegaBonus(){
  bonusEl.innerHTML = '<h3>üíé –ú–µ–≥–∞-–ë–æ–Ω—É—Å! –í—ã–±–µ—Ä–∏ —Å—É–Ω–¥—É–∫</h3>';
  const rewards = [5000,10000,20000];
  for(let i=0;i<3;i++){
    let chest = document.createElement('div');
    chest.className='chest';
    chest.textContent='üéÅ';
    chest.onclick=function(){
      let reward = rewards[i];
      bonusEl.innerHTML='<div>–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: '+reward+'</div>';
      createDoubleButton(reward);
    };
    bonusEl.appendChild(chest);
  }
}

function createDoubleButton(amount){
  const btns=document.createElement('div'); btns.className='bonus-controls';
  const doubleBtn=document.createElement('button'); doubleBtn.textContent='–£–¥–≤–æ–∏—Ç—å';
  doubleBtn.onclick=function(){ amount = Math.random()<0.5?amount*2:0; finalizeBonus(amount); };
  const takeBtn=document.createElement('button'); takeBtn.textContent='–ó–∞–±—Ä–∞—Ç—å';
  takeBtn.onclick=function(){finalizeBonus(amount);};
  btns.appendChild(doubleBtn); btns.appendChild(takeBtn);
  bonusEl.appendChild(btns);
}

function finalizeBonus(amount){
  balance += amount; totalWins += amount;
  bonusEl.innerHTML='<div>–ë–æ–Ω—É—Å –∑–∞–≤–µ—Ä—à—ë–Ω! –ü–æ–ª—É—á–µ–Ω–æ: '+amount+'</div>';
  resultEl.textContent='üéâ –ë–æ–Ω—É—Å: '+amount;
  playSound('https://freesound.org/data/previews/331/331912_5121236-lq.mp3');
  vibrate(300);
  showWinAnimation(amount);
  balanceEl.textContent = balance;
  updateBetLinesOptions();
}

// ===== –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è =====
updateBetLinesOptions();
fsEl.textContent = freeSpins;
bonusElCount.textContent = bonusGames;
</script>

</body>
</html>




























































































































































































































