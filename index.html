<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–•–ê–¢–ê ‚Äî –ñ—ë—Å—Ç–∫–∏–π —Ä–µ–∂–∏–º (–ö—Ä–∞—Å–∏–≤—ã–π)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  margin: 0;
  font-family: 'Segoe UI', Arial, sans-serif;
  background: linear-gradient(135deg, #0b0b0b, #1a1a1a);
  color: #fff;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden;
}
/* –§–æ–Ω–æ–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è */
body::before {
  content: '';
  position: absolute;
  top:0; left:0; right:0; bottom:0;
  background: radial-gradient(circle, rgba(255,0,0,0.2), transparent 70%);
  pointer-events: none;
  animation: pulse 5s infinite alternate;
}
@keyframes pulse { 0%{opacity:0.2;}100%{opacity:0.5;} }

#game {
  position: relative;
  z-index: 1;
  width: 95%;
  max-width: 900px;
  background: rgba(15,15,15,0.95);
  border-radius: 20px;
  padding: 30px;
  box-shadow: 0 0 50px rgba(255,0,0,0.4);
  text-align: center;
  transition: transform 0.2s;
}
#game.flash { transform: scale(1.02); }

h1 {
  letter-spacing: 3px;
  margin-bottom: 10px;
  color: #ff4b4b;
  text-shadow: 0 0 8px rgba(255,0,0,0.7);
}
#hud {
  display: flex;
  justify-content: space-between;
  font-size: 14px;
  margin-bottom: 10px;
}
#text {
  margin-top: 10px;
  font-size: 18px;
  line-height: 1.6;
  min-height: 160px;
  background: rgba(0,0,0,0.5);
  border-radius: 12px;
  padding: 15px;
  box-shadow: inset 0 0 15px rgba(255,0,0,0.2);
  transition: background 0.3s;
}
#image {
  margin-top: 12px;
  max-width: 100%;
  border-radius: 12px;
  box-shadow: 0 0 20px rgba(255,0,0,0.5);
  transition: transform 0.3s, opacity 0.3s;
}
#image.show { opacity: 1; transform: scale(1); }
.buttons {
  margin-top: 18px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
button {
  padding: 14px;
  background: linear-gradient(135deg, #2c2c2c, #1a1a1a);
  color: #fff;
  border: 2px solid #ff4b4b;
  border-radius: 12px;
  font-size: 15px;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 0 10px rgba(255,0,0,0.3);
}
button:hover:not(:disabled) {
  background: linear-gradient(135deg, #ff4b4b, #1a1a1a);
  transform: scale(1.05);
  box-shadow: 0 0 20px rgba(255,0,0,0.6);
}
button:disabled {
  opacity: 0.35;
  cursor: not-allowed;
}
#status {
  margin-top: 12px;
  font-size: 14px;
}
.flash { animation: flash .25s; }
.glitch { animation: glitch .25s infinite; color: #ff0000; }
@keyframes flash { from { box-shadow:none; } to { box-shadow:0 0 40px rgba(255,0,0,.6); } }
@keyframes glitch { 0%{transform:translate(0)}25%{transform:translate(-2px,2px)}50%{transform:translate(2px,-2px)}75%{transform:translate(-2px,-2px)}100%{transform:translate(0)} }
@media (max-width: 500px) {
  #text { font-size: 16px; }
  button { font-size: 14px; padding: 12px; }
}
</style>
</head>
<body>
<div id="game">
  <h1>–•–ê–¢–ê</h1>
  <div id="hud">
    <div id="roleInfo"></div>
    <div id="stepInfo"></div>
  </div>
  <img id="image" src="https://picsum.photos/600/300?random=1" alt="–°—Ü–µ–Ω–∞" class="show">
  <div id="text"></div>
  <div class="buttons" id="buttons"></div>
  <div id="status"></div>
</div>
<script>
let step = 0;
let respect = 5;
let risk = 0;
let role = "–ü–æ—Ä—è–¥–æ—á–Ω—ã–π";
const MAX_STEPS = 20;

function updateRole(){
  if(risk >= 12) role = "üíÄ –ü–µ—Ç—É—Ö";
  else if(risk >= 10) role = "‚ö´ –ß—ë—Ä—Ç";
  else if(risk >= 8) role = "üî¥ –ö–æ–∑—ë–ª";
  else if(respect <= 3 && risk >= 6) role = "üü† –ù–µ –ø–æ—Ä—è–¥–æ—á–Ω—ã–π";
  else if(respect >= 14 && risk <= 2) role = "üü£ –í–æ—Ä";
  else if(respect >= 11 && risk <= 3) role = "üü¢ –ú—É–∂–∏–∫";
  else if(respect >= 8 && risk <= 4) role = "üîµ –°—Ç—Ä–µ–º—è–≥–∞";
  else if(respect >= 5) role = "üü° –ë—Ä–æ–¥—è–≥–∞";
  else role = "–ü–æ—Ä—è–¥–æ—á–Ω—ã–π";
}

const scenes = [
  { text:"–¢—ã –∑–∞—Ö–æ–¥–∏—à—å –≤ —Ö–∞—Ç—É. –°–º–æ—Ç—Ä—è—Ç –º–æ–ª—á–∞.", img: "https://picsum.photos/600/300?random=11", opts:[["–ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å—Å—è",2,0],["–®—É—Ç–∫–∞–Ω—É—Ç—å",0,1],["–ú–æ–ª—á–∞—Ç—å",-1,1]] },
  { text:"–ú–∏–Ω–∏-–∏–≥—Ä–∞: –£–≥–∞–¥–∞–π —á–∏—Å–ª–æ!", miniGame: "guessNumber", img: "https://picsum.photos/600/300?random=12" },
  { text:"–°–ø—Ä–∞—à–∏–≤–∞—é—Ç: ¬´–ü–æ –∂–∏–∑–Ω–∏ –∫—Ç–æ?¬ª", img: "https://picsum.photos/600/300?random=13", opts:[["–ó–∞ –ø—Ä–∞–≤–¥—É",2,0],["–£–∫–ª–æ–Ω–∏—Ç—å—Å—è",-1,1],["–ü–∞—Ñ–æ—Å–Ω–æ",-2,2]] },
  { text:"–ú–∏–Ω–∏-–∏–≥—Ä–∞: –ü–æ–¥–±—Ä–æ—Å—å –º–æ–Ω–µ—Ç–∫—É!", miniGame: "coinFlip", img: "https://picsum.photos/600/300?random=14" },
  { text:"–ó–∞–≥–∞–¥–∫–∞: ¬´–ß—Ç–æ –ª–æ–º–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –æ –Ω—ë–º –≥–æ–≤–æ—Ä–∏—Ç—å?¬ª", img: "https://picsum.photos/600/300?random=15", opts:[["–¢–∏—à–∏–Ω–∞",2,0],["–ß–µ–ª–æ–≤–µ–∫",0,1],["–ù–µ –æ—Ç–≤–µ—á–∞—Ç—å",-1,1]] },
  { text:"–ú–∏–Ω–∏-–∏–≥—Ä–∞: –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–≤–µ—Ç!", miniGame: "fastAnswer", img: "https://picsum.photos/600/300?random=16" },
  ...Array.from({length:10},(_,i)=>({ text:`–î–∞–≤–ª–µ–Ω–∏–µ —É—Å–∏–ª–∏–≤–∞–µ—Ç—Å—è. –≠—Ç–∞–ø ${i+7}.`, img: "https://picsum.photos/600/300?random=17", opts:[["–î–µ—Ä–∂—É—Å—å",2,0],["–°–æ–º–Ω–µ–≤–∞—é—Å—å",-1,1],["–ü–ª—ã–≤—É",-2,2]] }))
];

function render(){
  if(step >= MAX_STEPS){ endGame(); return; }
  const sc = scenes[step];
  document.getElementById("text").textContent = sc.text;
  const imgEl = document.getElementById("image");
  imgEl.src = sc.img || "https://picsum.photos/600/300?random=1";
  imgEl.classList.remove('show');
  setTimeout(()=> imgEl.classList.add('show'), 50);

  const btns = document.getElementById("buttons");
  btns.innerHTML = "";

  if(sc.miniGame){ playMiniGame(sc.miniGame); return; }

  sc.opts.forEach(o=>{
    const b = document.createElement("button");
    b.textContent = o[0];
    b.disabled = role === "üíÄ –ü–µ—Ç—É—Ö";
    b.onclick = () => {
      respect += o[1]; risk += o[2]; step++; updateRole();
      document.getElementById("game").classList.add("flash");
      document.getElementById("game").addEventListener('animationend',()=>document.getElementById("game").classList.remove("flash"),{once:true});
      render();
    };
    btns.appendChild(b);
  });

  document.getElementById("roleInfo").textContent = "–°—Ç–∞—Ç—É—Å: " + role;
  document.getElementById("stepInfo").textContent = `–≠—Ç–∞–ø ${step+1}/${MAX_STEPS}`;
  document.getElementById("status").textContent = `–£–≤–∞–∂–µ–Ω–∏–µ: ${respect} | –†–∏—Å–∫: ${risk}`;
}

function playMiniGame(type){
  const btns = document.getElementById("buttons");
  btns.innerHTML = "";
  if(type === "guessNumber"){
    const number = Math.floor(Math.random()*5)+1;
    for(let i=1;i<=5;i++){
      const b=document.createElement("button");
      b.textContent=i;
      b.onclick=()=>{
        if(i===number) respect+=2; else risk+=1;
        step++; updateRole(); render();
      };
      btns.appendChild(b);
    }
  } else if(type === "coinFlip"){
    ["–û—Ä—ë–ª","–†–µ—à–∫–∞"].forEach(side=>{
      const b=document.createElement("button");
      b.textContent=side;
      b.onclick=()=>{
        if(Math.random()<0.5) respect+=2; else risk+=2;
        step++; updateRole(); render();
      };
      btns.appendChild(b);
    });
  } else if(type === "fastAnswer"){
    const question = { text: "–ß—Ç–æ –Ω–µ–ª—å–∑—è –≤–µ—Ä–Ω—É—Ç—å?", opts: [["–î–æ–≤–µ—Ä–∏–µ",2,0],["–í—Ä–µ–º—è",1,0],["–°–ª–æ–≤–æ",-1,1]] };
    document.getElementById("text").textContent = question.text;
    question.opts.forEach(o=>{
      const b=document.createElement("button");
      b.textContent=o[0];
      b.onclick=()=>{ respect+=o[1]; risk+=o[2]; step++; updateRole(); render(); };
      btns.appendChild(b);
    });
  }
}

function endGame(){
  document.getElementById("buttons").innerHTML="";
  const t=document.getElementById("text");
  const img=document.getElementById("image");
  if(role === "üíÄ –ü–µ—Ç—É—Ö"){
    t.textContent="–§–∏–Ω–∞–ª: —Å—Ç–∞—Ç—É—Å –∑–∞–∫—Ä–µ–ø–ª—ë–Ω. –û–±—Ä–∞—Ç–Ω–æ–π –¥–æ—Ä–æ–≥–∏ –Ω–µ—Ç.";
    t.classList.add("glitch");
  } else {
    t.textContent="–§–∏–Ω–∞–ª. –¢—ã –¥–æ—à—ë–ª –¥–æ –∫–æ–Ω—Ü–∞. –ò—Ç–æ–≥: "+role+".";
  }
  img.src="https://picsum.photos/600/300?random=18";
}

updateRole();
render();
</script>
</body>
</html>


































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































