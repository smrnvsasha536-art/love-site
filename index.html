<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Симулятор звонка — Ростелеком</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg, #1e3c72, #2a5298);
    color: #fff;
}

.container {
    max-width: 1000px;
    margin: auto;
    padding: 20px;
}

h1 {
    text-align: center;
}

.dialog {
    background: rgba(0,0,0,0.45);
    padding: 20px;
    border-radius: 12px;
    min-height: 160px;
    margin-bottom: 15px;
}

input {
    width: 100%;
    padding: 14px;
    font-size: 16px;
    border-radius: 8px;
    border: none;
    margin-top: 10px;
}

button {
    margin-top: 12px;
    padding: 12px 22px;
    font-size: 16px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: #ff9800;
    color: #000;
}

button:hover {
    background: #ffc107;
}

.result {
    margin-top: 30px;
    background: rgba(0,0,0,0.6);
    padding: 20px;
    border-radius: 12px;
}

.good {
    color: #4caf50;
}

.bad {
    color: #ff5252;
}

.example {
    color: #ffd54f;
    font-style: italic;
}
</style>
</head>

<body>
<div class="container">
<h1>Симуляция звонка Ростелеком</h1>

<div id="dialog" class="dialog"></div>

<input id="answer" placeholder="Введите ответ оператора">
<button id="send">Далее</button>

<div id="result" class="result" style="display:none;"></div>
</div>

<script>
// Сценарий
const steps = [
{
    text: "Клиент: Алло?",
    keywords: ["здравствуйте", "ростелеком", "оператор"],
    points: 5,
    rule: "Корректное приветствие и представление",
    example: "Здравствуйте! Вас приветствует оператор компании Ростелеком, меня зовут Иван."
},
{
    text: "Клиент: А кто вы вообще?",
    keywords: ["меня зовут", "ростелеком", "отдел"],
    points: 5,
    rule: "Представиться и назвать компанию",
    example: "Меня зовут Иван, я оператор компании Ростелеком, отдел клиентской поддержки."
},
{
    text: "Клиент: Мне сейчас не удобно разговаривать",
    keywords: ["много", "важно"],
    points: 5,
    rule: "Проверка удобства разговора",
    example: "Разговор не займёт много времени, вам важно уделить 5 минут своего времени."
},
{
    text: "Клиент: В смысле? Зачем вы звоните?",
    keywords: ["договор", "срок", "обслуживание"],
    points: 5,
    rule: "Объяснить причину звонка",
    example: "Я звоню по вашему договору на обслуживание. Сегодня заканчивается срок действия, поэтому необходимо уточнить детали."
},
{
    text: "Клиент: Откуда у вас мой номер?",
    keywords: ["договор", "клиент", "персональ"],
    points: 5,
    rule: "Объяснить источник данных",
    example: "Ваш номер указан в вашем договоре с компанией Ростелеком и используется только для обслуживания."
},
{
    text: "Возражение: Я ничего переоформлять не хочу",
    keywords: ["если", "не", "решим", "отключ", "линия"],
    points: 10,
    rule: "Нужно объяснить последствия отказа",
    example: "Если мы не решим вопрос сейчас, линия может быть отключена, и при повторном подключении придётся оплатить восстановление."
},
{
    text: "Возражение: Меня всё устраивает",
    keywords: ["понимаю", "но", "условия", "измен"],
    points: 10,
    rule: "Корректная работа с возражением",
    example: "Я понимаю вас, но условия договора изменились. Мы можем сохранить обслуживание на прежних условиях или предложить более выгодные."
},
{
    text: "Возражение: Как я могу убедиться, что вы оператор?",
    keywords: ["sms", "номер", "заявки"],
    points: 10,
    rule: "Подтверждение через SMS",
    example: "Я могу отправить вам SMS с номером вашей заявки. Информацию из SMS ни с кем не нужно делиться."
},
{
    text: "Возражение: Мне дети потом помогут",
    keywords: ["нельзя", "перенести", "блокиров"],
    points: 10,
    rule: "Объяснить, почему нельзя откладывать",
    example: "К сожалению, перенести процедуру нельзя. Если не оформить сейчас, возможна блокировка линии."
},
{
    text: "Возражение: Я боюсь давать паспорт",
    keywords: ["часть", "удостовер", "не полностью"],
    points: 10,
    rule: "Корректная работа со страхом документов",
    example: "Передаётся только часть данных для удостоверения личности, чтобы подтвердить ваши сведения в системе."
},
{
    text: "Клиент: Что от меня сейчас требуется?",
    keywords: ["подтверд", "данные", "паспорт"],
    points: 5,
    rule: "Чётко объяснить следующий шаг",
    example: "Нужно подтвердить ваши данные — серия и номер паспорта, чтобы завершить оформление и сохранить обслуживание."
},
{
    text: "Клиент: Это всё?",
    keywords: ["да", "больше", "не потребуется"],
    points: 5,
    rule: "Корректное завершение диалога",
    example: "Да, это всё. Больше действий не требуется. Спасибо за обращение, хорошего дня."
}
];

let step = 0;
let history = [];
let score = 0;

const dialog = document.getElementById("dialog");
const input = document.getElementById("answer");
const send = document.getElementById("send");
const result = document.getElementById("result");

showStep();

function showStep() {
    if (step >= steps.length) {
        analyzeDialog();
        return;
    }
    dialog.innerHTML = `<b>${steps[step].text}</b>`;
    input.value = "";
    input.focus();
}

send.onclick = () => {
    const text = input.value.trim();
    if (!text) return;

    history.push({
        question: steps[step].text,
        answer: text,
        stepData: steps[step]
    });

    step++;
    showStep();
};

function analyzeDialog() {
    dialog.style.display = "none";
    input.style.display = "none";
    send.style.display = "none";

    let html = `<h2>Итоговый диалог и подробный разбор</h2><hr>`;

    history.forEach(h => {
        const answerLower = h.answer.toLowerCase();
        const matched = h.stepData.keywords.filter(k => answerLower.includes(k));
        const missing = h.stepData.keywords.filter(k => !answerLower.includes(k));

        const success = matched.length >= Math.ceil(h.stepData.keywords.length * 0.6);

        if (success) score += h.stepData.points;

        html += `
        <p><b>${h.question}</b></p>
        <p class="${success ? 'good' : 'bad'}">
            ${h.answer}
            <br>
            <i>
            ${success
                ? '✔ Верно. Структура этапа соблюдена.'
                : `
                ✖ Ошибка: ${h.stepData.rule}<br>
                <b>Чего не хватило:</b> ${missing.join(", ")}<br>
                <b>Пример правильного ответа:</b> <span class="example">${h.stepData.example}</span>
                `}
            </i>
        </p>
        <hr>
        `;
    });

    html = `<h2>Общий балл: ${score}</h2>` + html;
    result.innerHTML = html;
    result.style.display = "block";
}
</script>
</body>
</html>






























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































